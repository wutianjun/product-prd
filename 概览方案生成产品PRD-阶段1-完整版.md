# 概览方案生成产品PRD - 阶段1

**文档版本**：v3.0  
**产品名称**：概览方案生成产品  
**所属阶段**：客创方向确认（概览方案生成）  
**目标版本**：330版本  
**文档日期**：2026年2月22日  
**文档作者**：Manus AI  

---

## 目录

- [一、产品概述](#一产品概述)
- [二、核心概念](#二核心概念)
- [三、产品价值](#三产品价值)
- [四、成功标准](#四成功标准)
- [五、用户旅程](#五用户旅程)
- [六、功能设计](#六功能设计)
- [七、数据模型](#七数据模型)
- [八、界面设计](#八界面设计)
- [九、实施计划](#九实施计划)

---

## 一、产品概述

### 1.1 产品定位

**概览方案生成产品**是企业组织智能体（EOI-OS）客创链路中的第一个核心环节，定位为：

> **从客户需求到客创方向的智能转化器**

在实际业务中，当一线业务人员接到客户需求时（例如"我们想提升染色一次成功率"），他们需要快速生成1-3个可行的客创方向，并形成对内和对外的概览方案。这个过程传统上依赖业务专家的经验和判断，耗时长、效率低、经验难以沉淀和复用。

概览方案生成产品通过**"1挖知识，2沉本体，3生应用，4 CI/CD"**的设计范式，实现：
- **0-1过程**：业务专家在AI辅助下，完成首次概览方案生成，同时沉淀经验
- **1-1'过程**：将0-1过程中的实例数据抽象为可复用的本体数据
- **2-N过程**：将本体数据转换为智能子Agent，一线业务人员可以直接使用
- **持续优化**：通过使用反馈，不断升级子Agent

---

### 1.2 产品目标

#### **阶段1目标（330版本）**
1. **完成0-1过程**：业务专家可以在AI辅助下，完成概览方案生成
2. **沉淀本体数据**：将0-1过程中的经验沉淀为本体数据
3. **生成子Agent**：将本体数据转换为可复用的子Agent（AI原生应用）
4. **实现1-N复用**：一线业务人员可以直接调用子Agent，快速生成概览方案

#### **长期目标**
1. **覆盖率**：覆盖80%以上的常见需求类型
2. **复用率**：80%以上的需求可以直接复用子Agent
3. **效率提升**：概览方案生成时间从3-5天缩短到1-2小时
4. **能力提升**：一线业务人员的方案质量接近业务专家水平

---

### 1.3 核心理念

概览方案生成产品遵循**"1挖知识，2沉本体，3生应用，4 CI/CD"**的设计范式：

#### **1. 挖知识（Knowledge Mining）**
在0-1过程中，通过AI与业务专家的共创对话，挖掘隐性经验：
- **结果式提问**：带着上下文和目的的提问，告诉用户"为什么需要这个信息"、"用来做什么"
- **智能引导**：提供4个方向的引导（推荐答案、方法策略、邀请伙伴、自定义输入）
- **过程透明**：不仅展示最终结果，还展示推理过程、规则和原因，让业务专家可以反馈和调整

#### **2. 沉本体（Ontology Sedimentation）**
将0-1过程中的实例数据抽象为可复用的本体数据，存储在本体数据底座中：
- **思考本体数据**：定义"如何做"的方法论（对象类型、动作类型、函数）
- **内容本体数据**：定义"做什么"的内容要求（工作流程、任务模板、评估规则、案例库、知识库）
- **应用本体数据**：定义"如何呈现"的交互方式（Object Views、Interaction Patterns）

#### **3. 生应用（Application Generation）**
将本体数据转换为智能子Agent，通过Claude Code自动生成：
- **输入**：思考本体数据 + 内容本体数据 + 应用本体数据
- **输出**：可独立运行的智能子Agent（对话式AI原生应用）
- **特点**：子Agent具备CUI对话窗口 + GUI页面 + 完整的业务逻辑

#### **4. CI/CD（Continuous Integration/Continuous Deployment）**
建立持续优化机制：
- **使用反馈**：收集一线业务人员的使用数据和反馈
- **专家审核**：业务专家审核和调整本体数据
- **自动部署**：更新后的子Agent自动部署，无需人工干预

---

### 1.4 技术架构

概览方案生成产品的技术架构分为三层：

```
┌─────────────────────────────────────────────────────────────┐
│                    通用概览方案生成Agent                      │
│  ┌──────────────────────────────────────────────────────┐   │
│  │  核心能力：                                           │   │
│  │  - 任务规划（固定任务 + 动态任务）                    │   │
│  │  - 知识挖掘（结果式提问 + 多轮对话）                  │   │
│  │  - 智能引导（4个方向）                                │   │
│  │  - 案例检索（联网检索 + 专家确认）                    │   │
│  │  - 知识沉淀（结构化存储）                             │   │
│  │  - 数据收集（多渠道数据）                             │   │
│  │  - 规则制定（评分规则 + 匹配规则）                    │   │
│  │  - 对内概览方案生成                                   │   │
│  │  - 客创方向卡片生成                                   │   │
│  │  - 客创方向对比分析                                   │   │
│  │  - 客创方向确认                                       │   │
│  │  - 特定配置沉淀                                       │   │
│  │  - 子Agent生成与部署                                  │   │
│  └──────────────────────────────────────────────────────┘   │
│                           ↓                                  │
│                    服务0-1过程                               │
└─────────────────────────────────────────────────────────────┘
                           ↓
┌─────────────────────────────────────────────────────────────┐
│                    本体数据底座（Ontology）                   │
│  ┌──────────────────────────────────────────────────────┐   │
│  │  思考本体数据（Method Ontology）                      │   │
│  │  - 对象类型（Object Types）                          │   │
│  │  - 动作类型（Action Types）                          │   │
│  │  - 函数（Functions）                                 │   │
│  └──────────────────────────────────────────────────────┘   │
│  ┌──────────────────────────────────────────────────────┐   │
│  │  内容本体数据（Content Ontology）                     │   │
│  │  - 基础配置（工作流程、任务模板、评估规则）          │   │
│  │  - 动态内容（案例库、知识库、规则库）                │   │
│  └──────────────────────────────────────────────────────┘   │
│  ┌──────────────────────────────────────────────────────┐   │
│  │  应用本体数据（Application Ontology）                 │   │
│  │  - Object Views（概览方案视图、客创方向卡片视图）    │   │
│  │  - Interaction Patterns（CUI对话模式、智能引导模式） │   │
│  └──────────────────────────────────────────────────────┘   │
│                           ↓                                  │
│                    存储经验和规则                            │
└─────────────────────────────────────────────────────────────┘
                           ↓
┌─────────────────────────────────────────────────────────────┐
│                 概览方案生成子Agent                          │
│  ┌──────────────────────────────────────────────────────┐   │
│  │  形态：对话式AI原生应用（类似Manus）                  │   │
│  │  - CUI对话窗口（加载特定领域的对话模板）             │   │
│  │  - GUI页面（任务管理、概览方案展示、客创方向卡片）   │   │
│  │  - 智能能力（案例库、知识库、评估规则）              │   │
│  └──────────────────────────────────────────────────────┘   │
│                           ↓                                  │
│                    服务1-N复用                               │
└─────────────────────────────────────────────────────────────┘
```

**关键特点**：
1. **通用Agent**：服务0-1过程，需要业务专家参与和指导
2. **本体数据底座**：存储三类本体数据，是知识沉淀的核心
3. **子Agent**：服务1-N复用，是完整的AI原生应用，具备CUI+GUI界面

---

### 1.5 产品边界

#### **阶段1包含的功能**
✅ 通用概览方案生成Agent的所有功能  
✅ 0-1过程的完整流程  
✅ 本体数据的沉淀机制  
✅ 子Agent的生成与部署  
✅ 1-N复用的完整流程  
✅ 子Agent的匹配与调用机制  
✅ 对内概览方案生成  
✅ 客创方向确认  

#### **阶段1不包含的功能**
❌ 对外概览方案生成（阶段2）  
❌ 跨领域专家协作（阶段2）  
❌ 任务的领域标签和领域识别（阶段2）  
❌ 拉人协作、群聊功能（阶段2）  

---

## 二、核心概念

### 2.1 通用概览方案生成Agent

#### **定义**
通用概览方案生成Agent是服务于**0-1过程**的智能助手，帮助业务专家完成首次概览方案生成。

#### **核心能力**
1. **任务规划**：根据需求特征，动态规划任务（固定任务 + 动态任务）
2. **知识挖掘**：通过结果式提问，挖掘业务专家的隐性经验
3. **智能引导**：提供4个方向的引导，辅助业务专家完成任务
4. **案例检索**：联网检索相似案例，并由业务专家确认
5. **知识沉淀**：将经验结构化存储到本体数据底座
6. **数据收集**：从多个渠道收集数据（历史数据、行业数据、市场数据）
7. **规则制定**：制定评分规则和匹配规则
8. **对内概览方案生成**：生成对内的概览方案
9. **客创方向卡片生成**：生成客创方向选择卡片
10. **客创方向对比分析**：对比分析多个客创方向
11. **客创方向确认**：确认最终的客创方向
12. **特定配置沉淀**：将0-1过程中的经验沉淀为特定配置
13. **子Agent生成与部署**：通过Claude Code生成子Agent并部署

#### **工作模式**
- **输入**：客户需求 + 基础本体数据（思考本体 + 内容本体基础配置）
- **过程**：AI与业务专家共创对话，逐步完成任务
- **输出**：对内概览方案 + 客创方向确认 + 本体数据（动态内容）

#### **技术实现**
- **基础模型**：Claude 3.5 Sonnet
- **核心框架**：Claude Agent SDK
- **数据存储**：Palantir Ontology（图数据库）
- **应用生成**：Claude Code

---

### 2.2 子Agent

#### **定义**
子Agent是将本体数据转换后生成的**对话式AI原生应用**，服务于**1-N复用**过程，让一线业务人员可以快速生成概览方案。

#### **核心特征**
1. **完整的AI原生应用**：不是简单的配置文件，而是可独立运行的Web应用
2. **CUI对话窗口**：加载了特定领域的对话模板和智能引导
3. **GUI页面**：包含任务管理页面、概览方案展示页面、客创方向卡片等
4. **智能能力**：加载了特定领域的案例库、知识库、评估规则

#### **子Agent的结构**
```
子Agent = 通用Agent + 特定本体数据 + 定制化交互界面

具体形态：
1. CUI对话窗口：
   - 加载了特定领域的对话模板
   - 具备特定领域的智能引导
   - 可以进行多轮对话

2. GUI页面：
   - 任务管理页面（展示特定领域的任务）
   - 概览方案展示页面（使用特定领域的模板）
   - 客创方向卡片（展示特定领域的评估维度）

3. 智能能力：
   - 加载了特定领域的案例库
   - 加载了特定领域的知识库
   - 加载了特定领域的评估规则
```

#### **与通用Agent的区别**
| 维度 | 通用Agent | 子Agent |
|------|----------|---------|
| **服务对象** | 业务专家（0-1过程） | 一线业务人员（1-N复用） |
| **本体数据** | 基础配置 | 基础配置 + 特定领域的动态内容 |
| **交互界面** | 通用界面 | 定制化界面（针对特定领域优化） |
| **智能程度** | 需要专家参与和指导 | 可以自动生成大部分内容 |
| **生成方式** | 预先开发 | 通过Claude Code自动生成 |

#### **子Agent的生成过程**
1. **输入**：思考本体数据 + 内容本体数据（基础配置 + 动态内容） + 应用本体数据
2. **处理**：Claude Code根据本体数据生成代码
3. **输出**：可独立运行的Web应用（包含前端界面 + 后端逻辑 + 数据处理）

---

### 2.3 本体数据底座

#### **定义**
本体数据底座是存储三类本体数据的核心系统，基于Palantir Ontology设计，使用图数据库存储。

#### **三类本体数据**

##### **1. 思考本体数据（Method Ontology）**

**定义**：描述"如何做"的方法论，包括思考方式、方法、约束。

**特点**：
- 相对稳定，不同0-1过程通用
- 由二层产品经理提前配置
- 给通用Agent使用，指导它"如何思考"

**核心组成**：
- **对象类型（Object Types）**：定义业务概念
- **动作类型（Action Types）**：定义如何修改对象
- **函数（Functions）**：提供可复用的业务逻辑

**示例**：
```
对象类型：Direction（客创方向）
属性：
- name: string（方向名称）
- valueProposition: string（核心价值主张）
- investmentRange: {min: number, max: number}（投资范围）
- expectedROI: number（预期ROI）
- riskLevel: enum（风险等级：低、中、高）
- applicableScenarios: string[]（适用场景）

动作类型：IdentifyDirections（识别客创方向）
输入：Demand（客户需求）
输出：Direction[]（1-3个客创方向）
逻辑：
1. 分析需求的核心痛点
2. 从案例库中匹配相似案例
3. 识别可能的解决方向
4. 评估每个方向的可行性
5. 筛选出1-3个最优方向

函数：matchSimilarCases（匹配相似案例）
输入：Demand（客户需求）
输出：Case[]（相似案例列表）
逻辑：
1. 提取需求的关键特征（行业、痛点类型、规模）
2. 在案例库中搜索相似案例
3. 计算相似度（基于多维度加权）
4. 返回相似度>60%的案例
```

##### **2. 内容本体数据（Content Ontology）**

**定义**：描述"做什么"的内容要求，包括应该产出什么、有什么要求、什么渠道、什么规则等。

**特点**：
- 包含基础配置（由二层产品经理配置）和动态内容（在0-1过程中沉淀）
- 搭配思考本体一起使用
- 思考本体决定"如何做"，内容本体决定"做什么"

**核心组成**：
- **基础配置**：工作流程定义、任务模板、评估规则、通用知识库
- **动态内容**：案例库、知识库、规则库、问题模板

**示例**：

**基础配置 - 工作流程定义**：
```
工作流程：概览方案生成
阶段：
1. 需求分析
   - 任务：理解客户需求
   - 输入：客户需求描述
   - 输出：结构化需求文档
   - 方法：知识挖掘（结果式提问）

2. 方向识别
   - 任务：识别1-3个客创方向
   - 输入：结构化需求文档
   - 输出：客创方向列表
   - 方法：案例检索 + 知识库匹配

3. 方向评估
   - 任务：评估每个方向的可行性
   - 输入：客创方向列表
   - 输出：评估报告
   - 方法：规则制定 + 数据收集

4. 概览方案生成
   - 任务：生成对内概览方案
   - 输入：评估报告
   - 输出：对内概览方案
   - 方法：模板填充 + 专家审核

5. 客创方向确认
   - 任务：确认最终的客创方向
   - 输入：对内概览方案
   - 输出：客创方向确认
   - 方法：客创方向卡片 + 对比分析
```

**基础配置 - 任务模板**：
```
固定任务：
1. 需求分析
2. 方向识别
3. 方向评估
4. 概览方案生成
5. 客创方向确认

动态任务触发规则：
- 如果需求信息不足 → 添加任务"数据补充"
- 如果找到相似案例 → 添加任务"案例验证"
- 如果需要专业知识 → 添加任务"知识学习"
```

**基础配置 - 评估规则**：
```
客创方向评估维度：
1. 投入成本（权重25%）
   - 评分规则：成本越低，分数越高
   - 数据来源：历史案例、市场数据

2. 预期收益（权重30%）
   - 评分规则：收益越高，分数越高
   - 数据来源：历史案例、行业数据

3. ROI周期（权重20%）
   - 评分规则：周期越短，分数越高
   - 数据来源：历史案例

4. 实施难度（权重15%）
   - 评分规则：难度越低，分数越高
   - 数据来源：专家评估

5. 风险等级（权重10%）
   - 评分规则：风险越低，分数越高
   - 数据来源：专家评估、历史案例
```

**动态内容 - 案例库**：
```
案例：巨赢纺织智能染色系统
行业：纺织印染
痛点类型：一次成功率低
解决方向：智能化改造（AI优化配方）
投入成本：50万元
预期收益：150万元/年
ROI周期：4个月
实施难度：中
风险等级：中
适用场景：
- 年产值1-5亿的纺织企业
- 染色一次成功率<80%
- 有一定数字化基础
关键成功因素：
- 历史数据质量
- 现有设备兼容性
- 操作人员培训
```

**动态内容 - 知识库**：
```
知识：染色一次成功率提升方法
类别：专业知识
领域：纺织印染
内容：
1. AI配方优化：通过机器学习优化染色配方，可提升成功率10-20%
2. 实时监控：通过传感器实时监控染色过程，可提升成功率5-10%
3. 设备升级：更换老旧设备，可提升成功率5-15%
4. 原料质量管控：加强原料质量检测，可提升成功率3-8%
5. 操作培训：提升操作人员技能，可提升成功率2-5%
来源：行业报告、专家经验、历史案例
置信度：高
```

**动态内容 - 规则库**：
```
规则：纺织行业客创方向评分规则
适用场景：纺织行业的智能化改造需求
评分维度调整：
- 投入成本（权重20%）← 降低权重，因为纺织企业更关注效果
- 预期收益（权重35%）← 提高权重
- ROI周期（权重20%）
- 实施难度（权重15%）
- 风险等级（权重10%）
特殊规则：
- 如果企业年产值<1亿，投入成本>100万的方向，风险等级自动提升一级
- 如果企业无数字化基础，智能化方向的实施难度自动提升一级
```

##### **3. 应用本体数据（Application Ontology）**

**定义**：描述"如何呈现"的交互方式，包括界面布局、交互模式、视觉风格等。

**特点**：
- 定义子Agent的交互和呈现要求
- 如果没有配置，Claude Code会根据自己的能力自动生成
- 如果有配置，Claude Code会严格按照配置生成

**核心组成**：
- **Object Views**：对象的展示视图
- **Interaction Patterns**：交互模式

**示例**：

**Object Views - 概览方案视图**：
```
视图名称：对内概览方案视图
对象类型：OverviewSolution
布局：
- 顶部：客户需求概述
- 中部：客创方向分析（卡片式布局，每个方向一个卡片）
- 底部：客创方向对比分析（表格）
卡片内容：
- 方向名称
- 核心价值主张
- 投资与收益参考（范围值，标注不确定性）
- 案例库（我们的案例 + 其他厂商案例）
- 风险与不确定性
- 适用场景
交互：
- 点击卡片 → 展开详细信息
- 点击案例 → 查看案例详情
- 点击"选择此方向" → 进入客创方向确认流程
```

**Object Views - 客创方向卡片视图**：
```
视图名称：客创方向选择卡片
对象类型：Direction
布局：卡片式，3列布局
卡片内容：
- 方向名称（大标题）
- 一句话价值主张
- 投入 | 收益 | ROI（关键指标）
- 适合场景（简短描述）
- 风险等级（图标 + 文字）
- 推荐指数（星级）
交互：
- 点击卡片 → 查看完整的概览方案
- 点击"选择此方向" → 确认客创方向
- 点击"对比分析" → 查看多个方向的对比表格
```

**Interaction Patterns - CUI对话模式**：
```
模式名称：知识挖掘对话模式
适用场景：需要向业务专家提问时
对话结构：
1. 上下文说明（为什么需要这个信息）
2. 问题（具体要问什么）
3. 用途说明（这个信息用来做什么）
4. 智能引导（4个方向）
   - 推荐答案
   - 方法策略
   - 邀请伙伴
   - 自定义输入

示例：
"我注意到您提到'染色一次成功率只有70%'这个痛点。为了更准确地为您设计解决方案，我需要了解染色失败的主要原因。

请问，染色失败主要是由以下哪些原因导致的？
- 配方不准确
- 设备老化
- 原料质量不稳定
- 操作不规范
- 其他原因

这些信息将帮助我们：
1. 识别最合适的客创方向
2. 估算投资和收益的范围
3. 匹配相似的成功案例

【智能引导】
💡 推荐答案：根据行业数据，配方不准确（40%）和设备老化（30%）是最常见的原因
📋 方法策略：您可以查看最近3个月的染色失败记录，统计各类原因的占比
👥 邀请伙伴：[暂不支持]
✏️ 自定义输入：[输入框]"
```

**Interaction Patterns - 智能引导模式**：
```
模式名称：任务完成后引导模式
适用场景：任务完成后，引导用户进行下一步操作
引导方向：
1. 查看和确认当前任务的输出物
   - 按钮文字："查看输出物"
   - 跳转：输出物展示页面

2. 执行下一个任务
   - 按钮文字："开始下一个任务"
   - 跳转：下一个任务的执行页面

3. 调整当前输出物
   - 按钮文字："我想调整"
   - 跳转：输出物编辑页面

示例：
"✅ 任务'需求分析'已完成！

我已经为您生成了结构化需求文档，包含：
- 客户基本信息
- 核心需求与痛点
- 客户期望

【下一步操作】
1. 📄 查看需求文档
2. ▶️ 开始识别客创方向
3. ✏️ 调整需求文档"
```

---

### 2.4 子Agent匹配与调用机制

#### **匹配维度**
当一线业务人员提交新需求时，系统需要判断是否可以复用已有的子Agent。匹配基于以下5个维度：

| 维度 | 说明 | 权重 | 示例 |
|------|------|------|------|
| **行业** | 客户所属行业 | 30% | 纺织行业 vs 机械行业 |
| **痛点类型** | 核心痛点的类别 | 25% | 成品率低 vs 成本高 |
| **解决方向** | 期望的解决路径 | 20% | 智能化改造 vs 流程优化 |
| **规模** | 企业规模 | 15% | 年产值2亿 vs 年产值10亿 |
| **技术路线** | 技术实现方式 | 10% | AI优化 vs 设备升级 |

#### **匹配规则**
```
相似度计算：
相似度 = Σ(维度相似度 × 维度权重)

维度相似度计算：
- 完全匹配：1.0
- 部分匹配：0.5-0.8（基于语义相似度）
- 不匹配：0.0

匹配结果：
- 相似度 ≥ 80%：直接复用子Agent，微调即可
- 相似度 60-80%：部分复用，仍需部分0-1过程
- 相似度 < 60%：不复用，完整0-1过程
```

#### **调用流程**
```
1. 用户提交需求
   ↓
2. 系统提取需求特征（行业、痛点类型、解决方向、规模、技术路线）
   ↓
3. 在本体数据底座中搜索已有的子Agent
   ↓
4. 计算相似度
   ↓
5. 判断匹配结果：
   - 相似度 ≥ 80% → 调用子Agent
   - 相似度 60-80% → 提示"找到相似案例，是否参考？"
   - 相似度 < 60% → 启动通用Agent（0-1过程）
   ↓
6. 如果调用子Agent：
   - 加载子Agent的本体数据
   - 启动子Agent的CUI对话窗口
   - 用户在子Agent中完成概览方案生成
   ↓
7. 收集使用反馈
   - 记录用户的调整和修改
   - 用于后续优化子Agent
```

---

### 2.5 完整流程：0-1 → 1-1' → 2-N

#### **0-1过程（实例过程）**

**定义**：业务专家在通用Agent的辅助下，完成首次概览方案生成。

**核心特征**：
- **参与者**：业务专家 + 通用Agent
- **过程**：AI与专家共创对话，逐步完成任务
- **输出**：对内概览方案 + 客创方向确认 + 实例数据

**详细流程**：
```
1. 业务专家提交客户需求
2. 通用Agent动态规划任务（固定任务 + 动态任务）
3. 执行任务1：需求分析
   - AI进行知识挖掘（结果式提问）
   - 业务专家回答问题
   - AI生成结构化需求文档
4. 执行任务2：方向识别
   - AI检索相似案例（联网检索）
   - 业务专家确认案例
   - AI识别1-3个客创方向
5. 执行任务3：方向评估
   - AI收集数据（历史数据、行业数据、市场数据）
   - 业务专家制定评分规则
   - AI评估每个方向
6. 执行任务4：概览方案生成
   - AI生成对内概览方案
   - 业务专家审核和调整
7. 执行任务5：客创方向确认
   - AI生成客创方向卡片
   - AI生成对比分析表格
   - 业务专家确认客创方向
8. 完成0-1过程
```

---

#### **1-1'过程（本体沉淀过程）**

**定义**：将0-1过程中的实例数据抽象为可复用的本体数据。

**核心特征**：
- **触发时机**：客创方向确认后
- **触发方式**：系统引导"是否将此过程沉淀为可复用的智能能力？"
- **参与者**：业务专家 + AI
- **输出**：本体数据（动态内容）

**详细流程**：
```
1. 系统引导："是否将此过程沉淀为可复用的智能能力？"
2. 业务专家确认："是"
3. 进入本体沉淀流程：
   
   步骤1：定义子Agent的适用范围
   - AI提问："这个子Agent适用于哪些场景？"
   - 业务专家回答："纺织行业，染色一次成功率<80%的企业"
   - AI生成适用范围描述
   
   步骤2：抽象案例库
   - AI提取0-1过程中使用的案例
   - 业务专家补充其他相关案例
   - AI将案例结构化存储到本体数据底座
   
   步骤3：抽象知识库
   - AI提取0-1过程中挖掘的知识
   - 业务专家补充专业知识
   - AI将知识结构化存储到本体数据底座
   
   步骤4：抽象规则库
   - AI提取0-1过程中制定的规则
   - 业务专家调整规则（如评分权重）
   - AI将规则结构化存储到本体数据底座
   
   步骤5：抽象问题模板
   - AI提取0-1过程中的提问模板
   - 业务专家优化提问方式
   - AI将问题模板存储到本体数据底座
   
   步骤6：定义子Agent的交互界面
   - AI展示默认的交互界面设计
   - 业务专家确认或调整
   - AI将界面设计存储到应用本体数据

4. 完成本体沉淀，生成特定配置
```

---

#### **2-N过程（智能复用过程）**

**定义**：将本体数据转换为智能子Agent，一线业务人员可以直接使用。

**核心特征**：
- **触发时机**：本体沉淀完成后
- **参与者**：Claude Code（自动生成）
- **输出**：子Agent（对话式AI原生应用）

**详细流程**：
```
1. 触发子Agent生成
   - 输入：思考本体数据 + 内容本体数据（基础配置 + 动态内容） + 应用本体数据
   
2. Claude Code生成子Agent
   - 生成CUI对话窗口代码
   - 生成GUI页面代码（任务管理、概览方案展示、客创方向卡片）
   - 生成业务逻辑代码（任务规划、知识挖掘、智能引导、案例检索等）
   - 生成数据处理代码（加载本体数据、调用函数等）
   
3. 部署子Agent
   - 自动部署到生产环境
   - 生成子Agent的访问地址
   - 注册到子Agent管理系统
   
4. 一线业务人员使用子Agent
   - 提交新需求
   - 系统匹配到子Agent（相似度≥80%）
   - 调用子Agent
   - 在子Agent的CUI对话窗口中完成概览方案生成
   - 子Agent自动生成对内概览方案和客创方向卡片
   
5. 收集使用反馈
   - 记录用户的调整和修改
   - 用于后续优化子Agent
```

---

#### **持续优化**

**定义**：通过使用反馈，不断升级子Agent。

**详细流程**：
```
1. 收集使用反馈
   - 一线业务人员使用子Agent时的调整和修改
   - 生成方案的质量评分
   - 用户的满意度反馈
   
2. 业务专家审核反馈
   - 查看使用数据
   - 识别需要优化的点
   
3. 更新本体数据
   - 补充新的案例
   - 更新评分规则
   - 优化问题模板
   
4. 重新生成子Agent
   - Claude Code根据更新后的本体数据重新生成子Agent
   - 自动部署新版本
   
5. 一线业务人员使用新版本子Agent
```

---

### 2.6 阶段1的用户角色

#### **用户角色定义**
在阶段1，所有用户都被视为**业务专家**，可以在AI辅助下完成所有任务。

#### **为什么不区分角色？**
1. **简化流程**：避免复杂的权限管理和协作机制
2. **聚焦核心**：专注于0-1过程和本体沉淀的核心功能
3. **降低门槛**：让一线业务人员也可以作为"专家"完成任务

#### **阶段2的角色区分**
在阶段2，将引入以下角色区分：
- **一线业务人员**：主要使用子Agent，快速生成概览方案
- **业务专家**：完成0-1过程，沉淀本体数据，审核和优化子Agent
- **跨领域专家**：在需要专业知识时，被邀请参与特定任务

---

## 三、产品价值

### 3.1 对企业的价值

#### **从"人工创智"到"智能创智"的跃迁**
- **传统模式**：每个需求都需要业务专家从头开始分析，耗时3-5天
- **智能模式**：80%的需求可以直接复用子Agent，1-2小时完成

#### **经验沉淀与复用**
- **传统模式**：业务专家的经验存在于个人头脑中，难以传承
- **智能模式**：经验被结构化存储在本体数据底座中，可以持续复用和优化

#### **能力民主化**
- **传统模式**：只有少数业务专家能够生成高质量的概览方案
- **智能模式**：一线业务人员也可以通过子Agent生成专家级的概览方案

---

### 3.2 对业务专家的价值

#### **AI辅助，提升效率**
- **知识挖掘**：AI通过结果式提问，帮助专家更快地梳理思路
- **案例检索**：AI自动检索相似案例，节省专家的搜索时间
- **数据收集**：AI从多个渠道收集数据，专家只需审核和确认

#### **经验沉淀，持续价值**
- **一次沉淀，多次复用**：专家完成一次0-1过程，沉淀的经验可以被无限次复用
- **持续优化**：通过使用反馈，专家可以不断优化子Agent，提升方案质量

#### **专注核心，减少重复**
- **专家聚焦0-1**：专家只需完成首次的0-1过程，后续的重复工作由子Agent完成
- **专家聚焦优化**：专家可以将更多时间用于审核和优化，而不是重复劳动

---

### 3.3 对一线业务人员的价值

#### **快速响应，提升成单率**
- **1-2小时生成方案**：使用子Agent，可以在1-2小时内生成概览方案
- **快速响应客户**：可以在客户提出需求的当天给出初步方案

#### **降低学习成本**
- **无需深厚经验**：子Agent已经内置了专家的经验，一线业务人员无需多年积累
- **智能引导**：子Agent提供智能引导，帮助一线业务人员完成复杂任务

#### **提升方案质量**
- **专家级方案**：子Agent生成的方案质量接近业务专家水平
- **减少错误**：子Agent基于结构化的规则和知识，减少人为错误

---

## 四、成功标准

### 4.1 阶段1的成功标准

#### **功能完整性**
- ✅ 通用Agent的13个核心功能全部实现
- ✅ 0-1过程的完整流程可以顺利运行
- ✅ 本体沉淀机制可以正常工作
- ✅ 子Agent可以成功生成和部署
- ✅ 1-N复用流程可以顺利运行

#### **用户体验**
- ✅ 业务专家可以在2-3天内完成0-1过程
- ✅ 本体沉淀流程可以在1-2小时内完成
- ✅ 子Agent生成和部署可以在30分钟内完成
- ✅ 一线业务人员可以在1-2小时内使用子Agent生成概览方案

#### **业务价值**
- ✅ 至少完成3个不同领域的0-1过程
- ✅ 至少生成3个子Agent
- ✅ 至少有10个一线业务人员使用子Agent
- ✅ 子Agent生成的方案质量达到业务专家的80%水平

---

### 4.2 长期成功标准

#### **覆盖率**
- 🎯 覆盖80%以上的常见需求类型
- 🎯 每个主要行业至少有3个子Agent

#### **复用率**
- 🎯 80%以上的需求可以直接复用子Agent
- 🎯 子Agent的使用次数 > 10次/月

#### **效率提升**
- 🎯 概览方案生成时间从3-5天缩短到1-2小时
- 🎯 业务专家的工作效率提升50%以上

#### **能力提升**
- 🎯 一线业务人员的方案质量接近业务专家水平
- 🎯 一线业务人员的成单率提升30%以上

---

## 五、用户旅程

### 5.1 0-1过程用户旅程

#### **场景描述**
业务专家张三接到巨赢纺织的需求："我们想提升染色一次成功率，目前只有70%，返工成本太高。"这是一个新的需求类型，系统中还没有相关的子Agent，因此需要通过0-1过程完成概览方案生成。

---

#### **步骤1：提交需求**

**用户操作**：
1. 张三登录系统，进入需求大厅
2. 点击"新建需求"
3. 填写客户基本信息：
   - 客户名称：巨赢纺织有限公司
   - 所属行业：纺织印染
   - 企业规模：年产值2亿元，员工300人
4. 填写需求描述："我们想提升染色一次成功率，目前只有70%，返工成本太高。"
5. 点击"开始客创"

**系统响应**：
1. 系统提取需求特征（行业、痛点类型、解决方向、规模、技术路线）
2. 在本体数据底座中搜索已有的子Agent
3. 计算相似度：最高相似度为45%（不满足复用条件）
4. 系统提示："这是一个新的需求类型，我将作为您的智能助手，帮助您完成概览方案生成。"
5. 启动通用概览方案生成Agent

---

#### **步骤2：动态任务规划**

**系统操作**：
1. 通用Agent分析需求特征
2. 动态规划任务：
   - 固定任务1：需求分析
   - 固定任务2：方向识别
   - 固定任务3：方向评估
   - 固定任务4：概览方案生成
   - 固定任务5：客创方向确认
   - 动态任务1：数据补充（因为需求信息不足，触发此任务）

**界面展示**：
```
CUI对话窗口：
"我已经为您规划了以下任务：

✅ 任务1：需求分析
   目标：深入理解客户需求和痛点
   预计时间：30分钟

✅ 任务2：数据补充
   目标：补充必要的数据和信息
   预计时间：20分钟

✅ 任务3：方向识别
   目标：识别1-3个可行的客创方向
   预计时间：40分钟

✅ 任务4：方向评估
   目标：评估每个方向的可行性
   预计时间：30分钟

✅ 任务5：概览方案生成
   目标：生成对内概览方案
   预计时间：40分钟

✅ 任务6：客创方向确认
   目标：确认最终的客创方向
   预计时间：20分钟

总预计时间：3小时

【下一步操作】
▶️ 开始任务1：需求分析"
```

---

#### **步骤3：执行任务1 - 需求分析（知识挖掘）**

**系统操作**：
1. AI进行知识挖掘（结果式提问）
2. 展示提问的上下文、问题、用途说明
3. 提供智能引导（4个方向）

**界面展示**：
```
CUI对话窗口：
"📋 任务1：需求分析

我注意到您提到'染色一次成功率只有70%，返工成本太高'这个痛点。为了更准确地为您设计解决方案，我需要了解染色失败的主要原因。

❓ 问题：
请问，染色失败主要是由以下哪些原因导致的？请选择所有适用的选项，并标注大致占比。

选项：
□ 配方不准确（   %）
□ 设备老化（   %）
□ 原料质量不稳定（   %）
□ 操作不规范（   %）
□ 其他原因（请说明：________）

📌 这些信息将帮助我们：
1. 识别最合适的客创方向（例如：如果配方不准确是主要原因，AI配方优化方向会更合适）
2. 估算投资和收益的范围（不同原因的解决成本差异很大）
3. 匹配相似的成功案例（帮助您参考其他企业的经验）

【智能引导】
💡 推荐答案：根据纺织行业数据，配方不准确（40%）和设备老化（30%）是最常见的原因
📋 方法策略：您可以查看最近3个月的染色失败记录，统计各类原因的占比
👥 邀请伙伴：[阶段2功能]
✏️ 自定义输入：[输入框]"
```

**用户操作**：
1. 张三查看了最近3个月的染色失败记录
2. 统计后发现：配方不准确（45%）、设备老化（25%）、原料质量不稳定（20%）、操作不规范（10%）
3. 张三在界面上勾选选项并填写占比
4. 点击"提交"

**系统响应**：
1. AI记录张三的回答
2. AI继续进行下一轮提问

---

#### **步骤4：执行任务1 - 需求分析（多轮对话）**

**系统操作**：
AI继续进行结果式提问，直到收集到足够的信息。

**第2轮提问**：
```
"感谢您的回答！我了解到配方不准确是主要原因（45%）。

❓ 问题：
请问，目前的染色配方是如何确定的？

选项：
○ 完全依赖老师傅的经验
○ 有标准配方，但需要人工调整
○ 使用软件辅助，但效果不理想
○ 其他（请说明：________）

📌 这些信息将帮助我们：
1. 判断AI配方优化的可行性（如果有历史数据，AI效果会更好）
2. 估算实施难度（如果完全依赖经验，数字化改造难度较大）

【智能引导】
💡 推荐答案：大多数纺织企业有标准配方，但需要人工调整
📋 方法策略：您可以询问染色车间主管，了解配方确定的流程
👥 邀请伙伴：[阶段2功能]
✏️ 自定义输入：[输入框]"
```

**用户操作**：
张三选择"有标准配方，但需要人工调整"，并补充说明："我们有基础配方库，但每次染色时，老师傅会根据原料批次、设备状态等因素进行调整。调整主要靠经验，没有明确的规则。"

**第3轮提问**：
```
"非常好！这个信息很有价值。

❓ 问题：
请问，贵公司是否保存了历史染色数据？包括：
- 每次染色的配方参数
- 原料批次信息
- 设备状态
- 染色结果（成功/失败）

选项：
○ 有完整的历史数据，且已数字化
○ 有部分数据，但主要是纸质记录
○ 基本没有历史数据
○ 不确定（需要确认）

📌 这些信息将帮助我们：
1. 判断AI配方优化的效果（历史数据越多，AI效果越好）
2. 估算数据准备的成本（如果数据未数字化，需要额外投入）

【智能引导】
💡 推荐答案：大多数企业有部分数据，但主要是纸质记录
📋 方法策略：您可以询问生产部门，了解数据记录的情况
👥 邀请伙伴：[阶段2功能]
✏️ 自定义输入：[输入框]"
```

**用户操作**：
张三选择"有部分数据，但主要是纸质记录"，并补充说明："我们从2023年开始使用Excel记录染色数据，但2023年之前的数据都是纸质记录。"

**系统响应**：
```
"感谢您的详细回答！我已经收集到足够的信息。

✅ 需求分析完成！

我已经为您生成了结构化需求文档，包含：
- 客户基本信息
- 核心需求与痛点
- 痛点原因分析
- 现状与数据基础
- 客户期望

【下一步操作】
1. 📄 查看需求文档
2. ▶️ 开始任务2：数据补充"
```

---

#### **步骤5：执行任务2 - 数据补充**

**系统操作**：
AI检测到需求文档中缺少一些关键信息，触发动态任务"数据补充"。

**界面展示**：
```
"📋 任务2：数据补充

为了更准确地评估解决方案的投资和收益，我需要补充以下数据：

❓ 问题1：
请问，贵公司每年因染色返工导致的成本大约是多少？

【智能引导】
💡 推荐答案：根据您的企业规模（年产值2亿）和一次成功率（70%），估算年返工成本约为150-250万元
📋 方法策略：返工成本 = 年染色总量 × 失败率 × 单次返工成本
👥 邀请伙伴：[阶段2功能]
✏️ 自定义输入：[输入框]

❓ 问题2：
请问，贵公司的预算范围是多少？

【智能引导】
💡 推荐答案：根据行业经验，智能化改造的预算通常为年返工成本的30-50%
📋 方法策略：您可以与财务部门确认可用预算
👥 邀请伙伴：[阶段2功能]
✏️ 自定义输入：[输入框]

❓ 问题3：
请问，贵公司期望的ROI周期是多久？

选项：
○ 3个月以内
○ 3-6个月
○ 6-12个月
○ 1年以上

【智能引导】
💡 推荐答案：大多数企业期望6-12个月回本
📋 方法策略：您可以与管理层确认ROI期望
👥 邀请伙伴：[阶段2功能]
✏️ 自定义输入：[输入框]"
```

**用户操作**：
1. 张三填写：年返工成本约200万元
2. 张三填写：预算范围50-150万元
3. 张三选择：6-12个月
4. 点击"提交"

**系统响应**：
```
"✅ 数据补充完成！

我已经更新了需求文档，补充了：
- 年返工成本：200万元
- 预算范围：50-150万元
- 期望ROI周期：6-12个月

【下一步操作】
▶️ 开始任务3：方向识别"
```

---

#### **步骤6：执行任务3 - 方向识别（案例检索）**

**系统操作**：
1. AI根据需求特征，联网检索相似案例
2. AI从多个来源检索：
   - 内部案例库
   - 行业报告
   - 学术论文
   - 厂商官网
3. AI计算案例相似度，筛选出相似度>60%的案例
4. AI展示案例列表，由业务专家确认

**界面展示**：
```
"📋 任务3：方向识别

我为您检索到以下相似案例，请确认哪些案例与您的需求相关：

【案例1：XX纺织智能染色系统】✅ 推荐
来源：我们的历史案例
行业：纺织印染
痛点：染色一次成功率低（75%）
解决方向：AI配方优化
投入成本：45万元
预期收益：120万元/年
ROI周期：4.5个月
相似度：85%
案例详情：[查看详情]
联系方式：张经理 138****1234

【案例2：YY印染数字化改造】
来源：行业报告
行业：纺织印染
痛点：染色一次成功率低（72%）
解决方向：设备升级 + 流程优化
投入成本：80万元
预期收益：180万元/年
ROI周期：5.3个月
相似度：78%
案例详情：[查看详情]
厂商信息：[查看厂商]

【案例3：ZZ纺织供应链优化】
来源：学术论文
行业：纺织印染
痛点：原料质量不稳定导致染色失败
解决方向：供应链管理
投入成本：30万元
预期收益：90万元/年
ROI周期：4个月
相似度：65%
案例详情：[查看详情]
论文链接：[查看论文]

【案例4：AA智能制造平台】
来源：厂商官网
行业：纺织印染
痛点：整体生产效率低
解决方向：全面数字化改造
投入成本：200万元
预期收益：500万元/年
ROI周期：4.8个月
相似度：62%
案例详情：[查看详情]
厂商官网：www.aa-smart.com
联系方式：400-****-****

【操作】
请选择您认为相关的案例：
☑ 案例1
☑ 案例2
☑ 案例3
□ 案例4（投入成本超出预算）

您也可以：
➕ 上传其他案例
📝 补充案例信息"
```

**用户操作**：
1. 张三勾选案例1、案例2、案例3
2. 张三点击"确认"

**系统响应**：
```
"感谢确认！基于您选择的案例，我为您识别出以下3个客创方向：

🎯 方向1：智能染色系统方向
核心价值：通过AI优化染色配方，提升一次成功率至95%
参考案例：案例1（XX纺织）
预估投入：50-80万元
预期收益：150-200万元/年
ROI周期：4-6个月

🎯 方向2：设备升级与流程优化方向
核心价值：更换老旧设备，优化染色流程，提升成功率至90%
参考案例：案例2（YY印染）
预估投入：80-120万元
预期收益：180-250万元/年
ROI周期：5-7个月

🎯 方向3：供应链优化方向
核心价值：加强原料质量管控，降低染料成本，提升成功率至85%
参考案例：案例3（ZZ纺织）
预估投入：30-50万元
预期收益：90-120万元/年
ROI周期：3-5个月

【下一步操作】
▶️ 开始任务4：方向评估"
```

---

#### **步骤7：执行任务4 - 方向评估（数据收集 + 规则制定）**

**系统操作**：
1. AI收集数据（历史数据、行业数据、市场数据）
2. AI展示默认的评分规则
3. 业务专家确认或调整评分规则
4. AI根据规则评估每个方向

**界面展示**：
```
"📋 任务4：方向评估

我已经为您收集了以下数据：

【历史数据】
- 我们完成的纺织行业项目：12个
- 平均投入成本：65万元
- 平均ROI周期：5.2个月
- 平均客户满意度：4.3/5.0

【行业数据】
- 纺织行业智能化改造平均成本：50-150万元
- 行业平均ROI周期：4-8个月
- 行业平均成功率提升：15-25%

【市场数据】
- 智能染色系统市场价格：40-100万元
- 设备升级市场价格：80-200万元
- 供应链管理系统市场价格：20-60万元

现在，我需要您确认评分规则：

【默认评分规则】
1. 投入成本（权重25%）
   - 评分规则：成本越低，分数越高
   - 满分标准：<50万元
   - 零分标准：>150万元

2. 预期收益（权重30%）
   - 评分规则：收益越高，分数越高
   - 满分标准：>200万元/年
   - 零分标准：<80万元/年

3. ROI周期（权重20%）
   - 评分规则：周期越短，分数越高
   - 满分标准：<4个月
   - 零分标准：>12个月

4. 实施难度（权重15%）
   - 评分规则：难度越低，分数越高
   - 评估依据：技术成熟度、数据可用性、组织变革难度

5. 风险等级（权重10%）
   - 评分规则：风险越低，分数越高
   - 评估依据：技术风险、市场风险、财务风险

【操作】
○ 使用默认规则
○ 调整规则（可调整权重、满分标准、零分标准）

【智能引导】
💡 推荐：使用默认规则（适用于大多数纺织企业）
📋 调整建议：如果您更关注投资回报，可以提高"预期收益"的权重
✏️ 自定义规则：[展开]"
```

**用户操作**：
1. 张三选择"调整规则"
2. 张三将"预期收益"的权重从30%提高到35%
3. 张三将"投入成本"的权重从25%降低到20%
4. 张三点击"确认"

**系统响应**：
```
"✅ 评分规则已确认！

我已经根据您调整后的规则，对3个方向进行了评估：

【评估结果】

🎯 方向1：智能染色系统方向
- 投入成本：65万元 → 得分：70/100（权重20%）→ 加权得分：14
- 预期收益：175万元/年 → 得分：85/100（权重35%）→ 加权得分：29.75
- ROI周期：5个月 → 得分：80/100（权重20%）→ 加权得分：16
- 实施难度：中 → 得分：70/100（权重15%）→ 加权得分：10.5
- 风险等级：中 → 得分：70/100（权重10%）→ 加权得分：7
- **总分：77.25/100** ⭐⭐⭐⭐⭐

🎯 方向2：设备升级与流程优化方向
- 投入成本：100万元 → 得分：50/100（权重20%）→ 加权得分：10
- 预期收益：215万元/年 → 得分：95/100（权重35%）→ 加权得分：33.25
- ROI周期：6个月 → 得分：70/100（权重20%）→ 加权得分：14
- 实施难度：高 → 得分：50/100（权重15%）→ 加权得分：7.5
- 风险等级：高 → 得分：50/100（权重10%）→ 加权得分：5
- **总分：69.75/100** ⭐⭐⭐⭐

🎯 方向3：供应链优化方向
- 投入成本：40万元 → 得分：90/100（权重20%）→ 加权得分：18
- 预期收益：105万元/年 → 得分：60/100（权重35%）→ 加权得分：21
- ROI周期：4个月 → 得分：95/100（权重20%）→ 加权得分：19
- 实施难度：低 → 得分：90/100（权重15%）→ 加权得分：13.5
- 风险等级：低 → 得分：90/100（权重10%）→ 加权得分：9
- **总分：80.5/100** ⭐⭐⭐⭐⭐

【推荐建议】
根据评估结果，我推荐**方向3：供应链优化方向**，理由如下：
1. 总分最高（80.5分）
2. 投入成本最低（40万元），在预算范围内
3. ROI周期最短（4个月），快速见效
4. 实施难度和风险都最低，成功概率高

但是，如果您更关注长期收益，**方向1：智能染色系统方向**也是不错的选择，虽然投入稍高，但预期收益更大。

【下一步操作】
▶️ 开始任务5：概览方案生成"
```

---

#### **步骤8：执行任务5 - 概览方案生成**

**系统操作**：
1. AI根据前面收集的所有信息，生成对内概览方案
2. AI使用模板填充内容
3. AI展示概览方案，由业务专家审核和调整

**界面展示**：
```
"📋 任务5：概览方案生成

我已经为您生成了对内概览方案，请审核：

---

# 概览方案：巨赢纺织染色一次成功率提升方案

## 一、客户需求概述

**客户名称**：巨赢纺织有限公司  
**所属行业**：纺织印染  
**企业规模**：年产值2亿元，员工300人  

**核心需求**：提升染色一次成功率，降低返工成本

**当前痛点**：
| 痛点 | 现状 | 影响 |
|------|------|------|
| 一次成功率低 | 仅70% | 年返工成本约200万元 |
| 配方依赖经验 | 人工调配，不稳定 | 不同批次质量波动大 |
| 问题发现滞后 | 染色完成后才检测 | 无法及时调整，浪费严重 |
| 数据缺乏沉淀 | 无系统记录 | 经验无法传承和优化 |

**痛点原因分析**：
- 配方不准确：45%
- 设备老化：25%
- 原料质量不稳定：20%
- 操作不规范：10%

**客户期望**：
- 目标成功率：≥90%
- 预算范围：50-150万元
- 期望ROI周期：6-12个月

---

## 二、客创方向分析

### 🎯 方向1：智能染色系统方向 ⭐⭐⭐⭐⭐

**核心价值主张**：
通过AI优化染色配方，实时监控染色过程，提升一次成功率至95%

**投资与收益参考**：
- 投资范围：50-80万元（参考值，详细方案设计后确定）
- 预期收益：150-200万元/年（基于成功率提升25%的保守估算）
- ROI周期：4-6个月
- 浮动因素：
  - 历史数据质量（影响AI效果）
  - 现有设备兼容性（可能增加集成成本）

**案例库**：

**案例1：XX纺织智能染色系统**（我们的案例）
- 客户：XX纺织有限公司
- 行业：纺织印染
- 痛点：染色一次成功率75%
- 解决方案：部署智能染色系统，AI配方优化 + 实时监控
- 投入成本：45万元
- 实际收益：120万元/年
- ROI周期：4.5个月
- 成功率提升：75% → 93%
- 联系方式：张经理 138****1234（可安排客户拜访）

**案例2：YY印染数字化改造**（行业案例）
- 来源：《2025纺织行业数字化转型白皮书》
- 客户：YY印染股份有限公司
- 行业：纺织印染
- 痛点：染色一次成功率72%
- 解决方案：设备升级 + AI配方优化 + 流程优化
- 投入成本：80万元
- 实际收益：180万元/年
- ROI周期：5.3个月
- 成功率提升：72% → 91%

**案例3：智能染色系统供应商**（厂商案例）
- 厂商：智染科技有限公司
- 产品：SmartDye智能染色系统
- 市场价格：40-100万元（根据规模）
- 典型客户：10+家纺织企业
- 平均成功率提升：15-25%
- 官网：www.smartdye.com
- 联系方式：400-****-****

**风险与不确定性**：
- ✅ 技术成熟度：高（已有多个成功案例）
- ⚠️ 数据依赖性：中（需要至少6个月的历史数据，您有2023年至今的数据，基本满足）
- ⚠️ 设备兼容性：中（需要现场评估现有设备的兼容性）
- ✅ 实施周期：4-6个月

**适用场景**：
- 年产值1-5亿的纺织企业
- 染色一次成功率<85%
- 有一定数字化基础（至少有半年以上的历史数据）
- 配方不准确是主要痛点

---

### 🎯 方向2：设备升级与流程优化方向 ⭐⭐⭐⭐

**核心价值主张**：
更换老旧设备，优化染色流程，提升一次成功率至90%

**投资与收益参考**：
- 投资范围：80-120万元（参考值，详细方案设计后确定）
- 预期收益：180-250万元/年（基于成功率提升20%的估算）
- ROI周期：5-7个月
- 浮动因素：
  - 设备选型（不同品牌价格差异大）
  - 现有设备残值（可能降低投入成本）

**案例库**：

**案例1：YY印染数字化改造**（行业案例）
- 来源：《2025纺织行业数字化转型白皮书》
- 客户：YY印染股份有限公司
- 行业：纺织印染
- 痛点：染色一次成功率72%，设备老化严重
- 解决方案：更换染色设备 + 优化染色流程
- 投入成本：80万元
- 实际收益：180万元/年
- ROI周期：5.3个月
- 成功率提升：72% → 91%

**案例2：染色设备供应商**（厂商案例）
- 厂商：德国THEN染色设备
- 产品：THEN-5000智能染色机
- 市场价格：80-200万元（根据产能）
- 典型客户：50+家纺织企业
- 平均成功率提升：10-20%
- 官网：www.then.de
- 联系方式：021-****-****

**风险与不确定性**：
- ⚠️ 投入成本：高（80-120万元，接近预算上限）
- ⚠️ 实施周期：长（6-9个月，包括设备采购、安装、调试）
- ⚠️ 组织变革：中（需要培训操作人员，调整生产流程）
- ✅ 技术成熟度：高（设备升级是传统方案，风险低）

**适用场景**：
- 年产值3-10亿的纺织企业
- 设备老化是主要痛点
- 预算充足（>80万元）
- 可以接受较长的实施周期（6-9个月）

---

### 🎯 方向3：供应链优化方向 ⭐⭐⭐⭐⭐

**核心价值主张**：
加强原料质量管控，优化供应商管理，降低染料成本15%，提升一次成功率至85%

**投资与收益参考**：
- 投资范围：30-50万元（参考值，详细方案设计后确定）
- 预期收益：90-120万元/年（基于成功率提升15% + 成本降低15%的估算）
- ROI周期：3-5个月
- 浮动因素：
  - 供应商配合度（影响实施效果）
  - 采购规模（规模越大，成本降低越明显）

**案例库**：

**案例1：ZZ纺织供应链优化**（学术案例）
- 来源：《纺织工业学报》2024年第3期
- 客户：ZZ纺织有限公司
- 行业：纺织印染
- 痛点：原料质量不稳定导致染色失败
- 解决方案：建立供应商评估体系 + 集中采购 + 质量管控
- 投入成本：30万元
- 实际收益：90万元/年
- ROI周期：4个月
- 成功率提升：70% → 85%
- 论文链接：[查看论文]

**案例2：供应链管理系统供应商**（厂商案例）
- 厂商：链智科技有限公司
- 产品：ChainSmart供应链管理系统
- 市场价格：20-60万元（根据功能）
- 典型客户：30+家制造企业
- 平均成本降低：10-20%
- 官网：www.chainsmart.com
- 联系方式：400-****-****

**风险与不确定性**：
- ✅ 投入成本：低（30-50万元，在预算范围内）
- ✅ ROI周期：短（3-5个月，快速见效）
- ✅ 实施难度：低（主要是流程优化，技术难度低）
- ⚠️ 效果上限：中（成功率提升有限，最高85%）

**适用场景**：
- 年产值1-3亿的纺织企业
- 原料质量不稳定是主要痛点
- 预算有限（<50万元）
- 追求快速见效、低风险

---

## 三、客创方向对比分析

| 对比维度 | 智能染色系统 | 设备升级与流程优化 | 供应链优化 |
|---------|-------------|-------------------|-----------|
| 投入成本 | 50-80万 | 80-120万 | 30-50万 |
| 预期收益 | 150-200万/年 | 180-250万/年 | 90-120万/年 |
| ROI周期 | 4-6个月 | 5-7个月 | 3-5个月 |
| 成功率提升 | 70%→95% | 70%→90% | 70%→85% |
| 实施难度 | 中 | 高 | 低 |
| 风险等级 | 中 | 高 | 低 |
| 评分 | 77.25 | 69.75 | 80.5 |
| 推荐指数 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ |

---

## 四、推荐建议

基于巨赢纺织当前的痛点（配方不准确是主要原因）、预算情况（50-150万元）和期望ROI周期（6-12个月），我们推荐以下方案：

**首选方案：方向3（供应链优化方向）**
- ✅ 投入成本最低（30-50万元），在预算范围内
- ✅ ROI周期最短（3-5个月），快速见效
- ✅ 实施难度和风险都最低，成功概率高
- ⚠️ 但成功率提升有限（最高85%），如果期望更高的成功率，建议考虑方向1

**备选方案：方向1（智能染色系统方向）**
- ✅ 直击核心痛点（配方不准确），效果最直接
- ✅ 成功率提升最大（可达95%）
- ✅ 投入产出比高（投入50-80万，预期年收益150-200万）
- ⚠️ 但对数据质量有要求，需要现场评估

**不推荐方案：方向2（设备升级与流程优化方向）**
- ⚠️ 投入成本高（80-120万元），接近预算上限
- ⚠️ 实施周期长（6-9个月），超出期望ROI周期
- ⚠️ 实施难度和风险都较高

---

## 五、下一步行动

确认客创方向后，将进入详细方案设计阶段，包括：
- 现场调研（2-3天）
- 精确测算（3-5天）
- 详细规划（5-7天）
- 技术方案设计
- 硬件设备选型
- 软件功能规划
- 实施计划制定
- 成本与收益详细核算

---

【操作】
○ 我满意这个方案，进入下一步
○ 我想调整方案内容
○ 我想重新评估方向"
```

**用户操作**：
1. 张三仔细阅读概览方案
2. 张三对方向3的"效果上限"有疑问，点击"我想调整方案内容"
3. 张三在对话框中输入："方向3的成功率只能提升到85%，但客户期望90%以上，是否可以结合方向1和方向3？"

**系统响应**：
```
"这是一个很好的想法！结合方向1和方向3，可以实现更高的成功率提升。

让我为您重新分析：

【组合方案：供应链优化 + 智能染色系统】

**第一阶段**（3-6个月）：
- 实施供应链优化
- 投入成本：30-50万元
- 成功率提升：70% → 85%
- 快速见效，降低风险

**第二阶段**（6-12个月）：
- 在供应链优化的基础上，部署智能染色系统
- 投入成本：40-60万元（因为供应链优化后，数据质量更好，AI效果更佳）
- 成功率提升：85% → 95%
- 实现客户期望的目标

**总投入成本**：70-110万元（在预算范围内）
**总预期收益**：200-280万元/年
**总ROI周期**：4-6个月（第一阶段快速回本，第二阶段持续增收）

**优势**：
- ✅ 分阶段实施，降低风险
- ✅ 第一阶段快速见效，增强信心
- ✅ 第二阶段效果更好（因为数据质量提升）
- ✅ 总投入在预算范围内

我是否应该将这个组合方案添加到概览方案中？

【操作】
○ 是，添加组合方案
○ 否，保持原方案"
```

**用户操作**：
张三选择"是，添加组合方案"

**系统响应**：
```
"✅ 概览方案已更新！

我已经在概览方案中添加了**方向4：组合方案（供应链优化 + 智能染色系统）**，并更新了对比分析表格。

【下一步操作】
▶️ 开始任务6：客创方向确认"
```

---

#### **步骤9：执行任务6 - 客创方向确认**

**系统操作**：
1. AI生成客创方向选择卡片
2. AI生成对比分析表格
3. 业务专家确认客创方向

**界面展示**：
```
"📋 任务6：客创方向确认

请选择您推荐的客创方向：

┌─────────────────────────────────────────┐
│ 🎯 方向1：智能染色系统方向              │
│                                         │
│ 💡 一句话价值：AI优化配方，成功率95%   │
│                                         │
│ 💰 投入：50-80万 | 收益：150-200万/年  │
│ ⏱️ ROI：4-6个月                         │
│                                         │
│ ✅ 适合：预算50-80万，追求高成功率      │
│ ⚠️ 风险：中等（数据依赖性）             │
│                                         │
│ ⭐⭐⭐⭐⭐                                │
│                                         │
│ [选择此方向] [查看完整方案]             │
└─────────────────────────────────────────┘

┌─────────────────────────────────────────┐
│ 🎯 方向2：设备升级与流程优化方向        │
│                                         │
│ 💡 一句话价值：设备升级，成功率90%     │
│                                         │
│ 💰 投入：80-120万 | 收益：180-250万/年 │
│ ⏱️ ROI：5-7个月                         │
│                                         │
│ ✅ 适合：预算充足，可接受长周期         │
│ ⚠️ 风险：高（投入大，周期长）           │
│                                         │
│ ⭐⭐⭐⭐                                  │
│                                         │
│ [选择此方向] [查看完整方案]             │
└─────────────────────────────────────────┘

┌─────────────────────────────────────────┐
│ 🎯 方向3：供应链优化方向                │
│                                         │
│ 💡 一句话价值：供应链优化，成功率85%   │
│                                         │
│ 💰 投入：30-50万 | 收益：90-120万/年   │
│ ⏱️ ROI：3-5个月                         │
│                                         │
│ ✅ 适合：预算有限，追求快速见效         │
│ ⚠️ 风险：低（但效果上限有限）           │
│                                         │
│ ⭐⭐⭐⭐⭐                                │
│                                         │
│ [选择此方向] [查看完整方案]             │
└─────────────────────────────────────────┘

┌─────────────────────────────────────────┐
│ 🎯 方向4：组合方案 ⭐推荐               │
│ （供应链优化 + 智能染色系统）           │
│                                         │
│ 💡 一句话价值：分阶段实施，成功率95%   │
│                                         │
│ 💰 投入：70-110万 | 收益：200-280万/年 │
│ ⏱️ ROI：4-6个月                         │
│                                         │
│ ✅ 适合：追求高成功率，降低风险         │
│ ⚠️ 风险：低（分阶段实施）               │
│                                         │
│ ⭐⭐⭐⭐⭐                                │
│                                         │
│ [选择此方向] [查看完整方案]             │
└─────────────────────────────────────────┘

【对比分析】
[查看详细对比表格]

【操作】
请选择一个方向，或者：
○ 我需要更多信息
○ 我想调整方案"
```

**用户操作**：
张三点击"选择此方向"（方向4：组合方案）

**系统响应**：
```
"✅ 客创方向已确认！

您选择的客创方向是：**方向4：组合方案（供应链优化 + 智能染色系统）**

【0-1过程完成！】

我已经为您完成了：
- ✅ 需求分析
- ✅ 数据补充
- ✅ 方向识别
- ✅ 方向评估
- ✅ 概览方案生成
- ✅ 客创方向确认

【输出物】
- 📄 对内概览方案（已生成）
- 🎯 客创方向确认（方向4：组合方案）

【下一步】
现在，我可以帮您将这次的经验沉淀为可复用的智能能力，让其他一线业务人员在遇到类似需求时，可以快速生成概览方案。

这个过程大约需要1-2小时，包括：
- 定义子Agent的适用范围
- 抽象案例库、知识库、规则库
- 定义子Agent的交互界面

【操作】
○ 是，开始沉淀智能能力
○ 否，稍后再说"
```

**用户操作**：
张三选择"是，开始沉淀智能能力"

---

#### **步骤10：进入1-1'过程（本体沉淀）**

**系统操作**：
进入本体沉淀流程

**界面展示**：
```
"🎉 太好了！让我们开始沉淀智能能力。

【本体沉淀流程】

步骤1：定义子Agent的适用范围
步骤2：抽象案例库
步骤3：抽象知识库
步骤4：抽象规则库
步骤5：抽象问题模板
步骤6：定义子Agent的交互界面
步骤7：生成子Agent

预计时间：1-2小时

【开始】
▶️ 开始步骤1：定义子Agent的适用范围"
```

---

#### **步骤11：定义子Agent的适用范围**

**系统操作**：
AI引导业务专家定义子Agent的适用范围

**界面展示**：
```
"📋 步骤1：定义子Agent的适用范围

这个子Agent将用于哪些场景？请回答以下问题：

❓ 问题1：适用的行业
这个子Agent适用于哪些行业？

【智能引导】
💡 推荐答案：纺织印染行业
📋 扩展建议：您也可以扩展到其他染色相关行业（如皮革染色、纸张染色）
✏️ 自定义输入：[输入框]

❓ 问题2：适用的痛点类型
这个子Agent适用于哪些痛点？

【智能引导】
💡 推荐答案：染色一次成功率低（<85%）
📋 扩展建议：您也可以扩展到其他质量问题（如色差大、色牢度低）
✏️ 自定义输入：[输入框]

❓ 问题3：适用的企业规模
这个子Agent适用于哪些规模的企业？

【智能引导】
💡 推荐答案：年产值1-5亿的中小型纺织企业
📋 扩展建议：您也可以扩展到更大规模的企业，但需要调整投资范围
✏️ 自定义输入：[输入框]

❓ 问题4：适用的数字化基础
这个子Agent对企业的数字化基础有什么要求？

【智能引导】
💡 推荐答案：至少有6个月以上的历史数据（Excel或系统记录）
📋 扩展建议：如果没有历史数据，需要先进行数据收集
✏️ 自定义输入：[输入框]

❓ 问题5：子Agent的名称
请为这个子Agent起一个名称：

【智能引导】
💡 推荐答案：纺织染色成功率提升方案生成器
📋 命名建议：名称应简洁、易懂，体现核心价值
✏️ 自定义输入：[输入框]"
```

**用户操作**：
1. 张三填写：适用行业 = 纺织印染行业
2. 张三填写：适用痛点 = 染色一次成功率低（<85%）
3. 张三填写：适用规模 = 年产值1-5亿的中小型纺织企业
4. 张三填写：数字化基础 = 至少有6个月以上的历史数据
5. 张三填写：子Agent名称 = 纺织染色成功率提升方案生成器
6. 点击"提交"

**系统响应**：
```
"✅ 适用范围已定义！

【子Agent适用范围】
- 行业：纺织印染行业
- 痛点：染色一次成功率低（<85%）
- 规模：年产值1-5亿的中小型纺织企业
- 数字化基础：至少有6个月以上的历史数据
- 名称：纺织染色成功率提升方案生成器

【下一步】
▶️ 开始步骤2：抽象案例库"
```

---

#### **步骤12：抽象案例库**

**系统操作**：
AI提取0-1过程中使用的案例，并引导业务专家补充

**界面展示**：
```
"📋 步骤2：抽象案例库

我已经提取了0-1过程中使用的案例，请确认并补充：

【已提取的案例】

**案例1：XX纺织智能染色系统**
- 来源：我们的历史案例
- 行业：纺织印染
- 痛点：染色一次成功率75%
- 解决方向：AI配方优化
- 投入成本：45万元
- 预期收益：120万元/年
- ROI周期：4.5个月
- 成功率提升：75% → 93%
- 联系方式：张经理 138****1234

**案例2：YY印染数字化改造**
- 来源：行业报告
- 行业：纺织印染
- 痛点：染色一次成功率72%
- 解决方向：设备升级 + 流程优化
- 投入成本：80万元
- 预期收益：180万元/年
- ROI周期：5.3个月
- 成功率提升：72% → 91%

**案例3：ZZ纺织供应链优化**
- 来源：学术论文
- 行业：纺织印染
- 痛点：原料质量不稳定导致染色失败
- 解决方向：供应链管理
- 投入成本：30万元
- 预期收益：90万元/年
- ROI周期：4个月
- 成功率提升：70% → 85%

【操作】
○ 确认案例库
○ 补充其他案例
○ 删除不相关的案例"
```

**用户操作**：
1. 张三选择"补充其他案例"
2. 张三上传了一个新案例："WW纺织智能染色系统"
3. 张三填写案例信息
4. 点击"确认案例库"

**系统响应**：
```
"✅ 案例库已确认！

我已经将4个案例存储到本体数据底座中。

【下一步】
▶️ 开始步骤3：抽象知识库"
```

---

#### **步骤13：抽象知识库**

**系统操作**：
AI提取0-1过程中挖掘的知识，并引导业务专家补充

**界面展示**：
```
"📋 步骤3：抽象知识库

我已经提取了0-1过程中挖掘的知识，请确认并补充：

【已提取的知识】

**知识1：染色一次成功率提升方法**
- 类别：专业知识
- 领域：纺织印染
- 内容：
  1. AI配方优化：通过机器学习优化染色配方，可提升成功率10-20%
  2. 实时监控：通过传感器实时监控染色过程，可提升成功率5-10%
  3. 设备升级：更换老旧设备，可提升成功率5-15%
  4. 原料质量管控：加强原料质量检测，可提升成功率3-8%
  5. 操作培训：提升操作人员技能，可提升成功率2-5%
- 来源：行业报告、专家经验、历史案例
- 置信度：高

**知识2：染色失败的主要原因**
- 类别：专业知识
- 领域：纺织印染
- 内容：
  - 配方不准确：40-50%
  - 设备老化：20-30%
  - 原料质量不稳定：15-25%
  - 操作不规范：5-15%
- 来源：行业数据、专家经验
- 置信度：高

**知识3：智能染色系统的数据要求**
- 类别：技术知识
- 领域：AI应用
- 内容：
  - 至少需要6个月以上的历史数据
  - 数据应包含：配方参数、原料批次、设备状态、染色结果
  - 数据质量越好，AI效果越佳
- 来源：技术文档、实施经验
- 置信度：高

【操作】
○ 确认知识库
○ 补充其他知识
○ 删除不相关的知识"
```

**用户操作**：
1. 张三选择"补充其他知识"
2. 张三输入："纺织行业的季节性特征：旺季（3-6月、9-11月），淡季（1-2月、7-8月、12月）。建议在淡季实施智能化改造，减少对生产的影响。"
3. 点击"确认知识库"

**系统响应**：
```
"✅ 知识库已确认！

我已经将4条知识存储到本体数据底座中。

【下一步】
▶️ 开始步骤4：抽象规则库"
```

---

#### **步骤14：抽象规则库**

**系统操作**：
AI提取0-1过程中制定的规则，并引导业务专家调整

**界面展示**：
```
"📋 步骤4：抽象规则库

我已经提取了0-1过程中制定的规则，请确认并调整：

【已提取的规则】

**规则1：纺织染色客创方向评分规则**
- 适用场景：纺织行业的染色成功率提升需求
- 评分维度：
  1. 投入成本（权重20%）
     - 评分规则：成本越低，分数越高
     - 满分标准：<50万元
     - 零分标准：>150万元
  
  2. 预期收益（权重35%）
     - 评分规则：收益越高，分数越高
     - 满分标准：>200万元/年
     - 零分标准：<80万元/年
  
  3. ROI周期（权重20%）
     - 评分规则：周期越短，分数越高
     - 满分标准：<4个月
     - 零分标准：>12个月
  
  4. 实施难度（权重15%）
     - 评分规则：难度越低，分数越高
     - 评估依据：技术成熟度、数据可用性、组织变革难度
  
  5. 风险等级（权重10%）
     - 评分规则：风险越低，分数越高
     - 评估依据：技术风险、市场风险、财务风险

**规则2：动态任务触发规则**
- 如果需求信息不足 → 添加任务"数据补充"
- 如果找到相似案例 → 添加任务"案例验证"
- 如果需要专业知识 → 添加任务"知识学习"

**规则3：案例匹配规则**
- 相似度计算维度：
  - 行业（权重30%）
  - 痛点类型（权重25%）
  - 解决方向（权重20%）
  - 规模（权重15%）
  - 技术路线（权重10%）
- 匹配阈值：
  - 相似度>60%：展示案例
  - 相似度>80%：推荐案例

【操作】
○ 确认规则库
○ 调整规则（可调整权重、阈值等）
○ 删除不相关的规则"
```

**用户操作**：
张三选择"确认规则库"

**系统响应**：
```
"✅ 规则库已确认！

我已经将3条规则存储到本体数据底座中。

【下一步】
▶️ 开始步骤5：抽象问题模板"
```

---

#### **步骤15：抽象问题模板**

**系统操作**：
AI提取0-1过程中的提问模板，并引导业务专家优化

**界面展示**：
```
"📋 步骤5：抽象问题模板

我已经提取了0-1过程中的提问模板，请确认并优化：

【已提取的问题模板】

**问题模板1：染色失败原因分析**
- 适用阶段：需求分析
- 问题模板：
  "我注意到您提到'{痛点描述}'这个痛点。为了更准确地为您设计解决方案，我需要了解{问题焦点}。
  
  请问，{具体问题}？
  
  这些信息将帮助我们：
  1. {用途1}
  2. {用途2}
  3. {用途3}"

- 变量：
  - {痛点描述}：从需求描述中提取
  - {问题焦点}：染色失败的主要原因
  - {具体问题}：染色失败主要是由以下哪些原因导致的？
  - {用途1}：识别最合适的客创方向
  - {用途2}：估算投资和收益的范围
  - {用途3}：匹配相似的成功案例

**问题模板2：配方确定方式**
- 适用阶段：需求分析
- 问题模板：
  "感谢您的回答！我了解到{前一个回答的关键信息}。
  
  请问，{具体问题}？
  
  这些信息将帮助我们：
  1. {用途1}
  2. {用途2}"

- 变量：
  - {前一个回答的关键信息}：配方不准确是主要原因（45%）
  - {具体问题}：目前的染色配方是如何确定的？
  - {用途1}：判断AI配方优化的可行性
  - {用途2}：估算实施难度

**问题模板3：历史数据可用性**
- 适用阶段：需求分析
- 问题模板：
  "非常好！这个信息很有价值。
  
  请问，{具体问题}？
  
  这些信息将帮助我们：
  1. {用途1}
  2. {用途2}"

- 变量：
  - {具体问题}：贵公司是否保存了历史染色数据？
  - {用途1}：判断AI配方优化的效果
  - {用途2}：估算数据准备的成本

【操作】
○ 确认问题模板
○ 优化问题模板（可调整措辞、增加变量等）
○ 删除不相关的问题模板"
```

**用户操作**：
张三选择"确认问题模板"

**系统响应**：
```
"✅ 问题模板已确认！

我已经将3个问题模板存储到本体数据底座中。

【下一步】
▶️ 开始步骤6：定义子Agent的交互界面"
```

---

#### **步骤16：定义子Agent的交互界面**

**系统操作**：
AI展示默认的交互界面设计，业务专家确认或调整

**界面展示**：
```
"📋 步骤6：定义子Agent的交互界面

我已经为您设计了子Agent的交互界面，请确认：

【CUI对话窗口】
- 对话模式：知识挖掘对话模式（结果式提问 + 智能引导）
- 智能引导：4个方向（推荐答案、方法策略、邀请伙伴、自定义输入）
- 任务完成后引导：3个方向（查看输出物、开始下一个任务、调整输出物）

【GUI页面】

**页面1：任务管理页面**
- 展示任务列表（固定任务 + 动态任务）
- 展示任务状态（未开始、进行中、已完成）
- 展示任务依赖关系（如果有）
- 可点击任务卡片，进入任务执行页面

**页面2：概览方案展示页面**
- 布局：
  - 顶部：客户需求概述
  - 中部：客创方向分析（卡片式布局，每个方向一个卡片）
  - 底部：客创方向对比分析（表格）
- 卡片内容：
  - 方向名称
  - 核心价值主张
  - 投资与收益参考
  - 案例库
  - 风险与不确定性
  - 适用场景
- 交互：
  - 点击卡片 → 展开详细信息
  - 点击案例 → 查看案例详情
  - 点击"选择此方向" → 进入客创方向确认流程

**页面3：客创方向卡片页面**
- 布局：卡片式，3列布局
- 卡片内容：
  - 方向名称（大标题）
  - 一句话价值主张
  - 投入 | 收益 | ROI（关键指标）
  - 适合场景（简短描述）
  - 风险等级（图标 + 文字）
  - 推荐指数（星级）
- 交互：
  - 点击卡片 → 查看完整的概览方案
  - 点击"选择此方向" → 确认客创方向
  - 点击"对比分析" → 查看多个方向的对比表格

【视觉风格】
- 主色调：蓝色（专业、可信）
- 辅助色：绿色（成功）、橙色（警告）、红色（风险）
- 字体：思源黑体（易读、专业）

【操作】
○ 确认交互界面设计
○ 调整交互界面（可调整布局、颜色、字体等）"
```

**用户操作**：
张三选择"确认交互界面设计"

**系统响应**：
```
"✅ 交互界面已确认！

我已经将交互界面设计存储到应用本体数据中。

【下一步】
▶️ 开始步骤7：生成子Agent"
```

---

#### **步骤17：生成子Agent**

**系统操作**：
1. 调用Claude Code，根据本体数据生成子Agent
2. 生成CUI对话窗口代码
3. 生成GUI页面代码
4. 生成业务逻辑代码
5. 生成数据处理代码
6. 部署子Agent

**界面展示**：
```
"📋 步骤7：生成子Agent

我正在为您生成子Agent，请稍候...

【生成进度】
✅ 加载本体数据（思考本体 + 内容本体 + 应用本体）
✅ 生成CUI对话窗口代码
✅ 生成GUI页面代码（任务管理、概览方案展示、客创方向卡片）
✅ 生成业务逻辑代码（任务规划、知识挖掘、智能引导、案例检索等）
✅ 生成数据处理代码（加载本体数据、调用函数等）
✅ 编译和打包
✅ 部署到生产环境
✅ 注册到子Agent管理系统

【生成完成！】

🎉 子Agent"纺织染色成功率提升方案生成器"已成功生成并部署！

【子Agent信息】
- 名称：纺织染色成功率提升方案生成器
- 版本：v1.0
- 访问地址：https://agent.eoi-os.com/textile-dyeing-v1
- 适用范围：
  - 行业：纺织印染行业
  - 痛点：染色一次成功率低（<85%）
  - 规模：年产值1-5亿的中小型纺织企业
  - 数字化基础：至少有6个月以上的历史数据

【下一步】
现在，一线业务人员可以使用这个子Agent，快速生成概览方案！

【操作】
○ 查看子Agent
○ 测试子Agent
○ 返回需求大厅"
```

**用户操作**：
张三选择"测试子Agent"

**系统响应**：
```
"我将为您打开子Agent的测试环境...

【测试环境】
您可以在测试环境中模拟一线业务人员的使用流程，验证子Agent的功能。

[打开测试环境]"
```

---

### 5.2 1-N复用用户旅程

#### **场景描述**
一线业务人员李四接到另一家纺织企业的需求："我们的染色一次成功率只有75%，想提升到90%以上。"这个需求与之前张三完成的0-1过程非常相似，系统匹配到了"纺织染色成功率提升方案生成器"子Agent，李四可以直接使用这个子Agent快速生成概览方案。

---

#### **步骤1：提交需求**

**用户操作**：
1. 李四登录系统，进入需求大厅
2. 点击"新建需求"
3. 填写客户基本信息：
   - 客户名称：华美纺织有限公司
   - 所属行业：纺织印染
   - 企业规模：年产值3亿元，员工500人
4. 填写需求描述："我们的染色一次成功率只有75%，想提升到90%以上。"
5. 点击"开始客创"

**系统响应**：
1. 系统提取需求特征（行业、痛点类型、解决方向、规模、技术路线）
2. 在本体数据底座中搜索已有的子Agent
3. 计算相似度：
   - 行业匹配：纺织印染 vs 纺织印染 → 相似度100%（权重30%）→ 加权30
   - 痛点类型匹配：成功率低 vs 成功率低 → 相似度100%（权重25%）→ 加权25
   - 解决方向匹配：未明确 vs 智能化改造 → 相似度50%（权重20%）→ 加权10
   - 规模匹配：年产值3亿 vs 年产值1-5亿 → 相似度90%（权重15%）→ 加权13.5
   - 技术路线匹配：未明确 vs AI优化 → 相似度50%（权重10%）→ 加权5
   - **总相似度：83.5%**（满足复用条件）
4. 系统提示："我找到了一个相似的智能能力，可以帮助您快速生成概览方案。"
5. 展示子Agent信息

**界面展示**：
```
"🎉 好消息！我找到了一个相似的智能能力！

【匹配到的子Agent】
- 名称：纺织染色成功率提升方案生成器
- 适用范围：
  - 行业：纺织印染行业
  - 痛点：染色一次成功率低（<85%）
  - 规模：年产值1-5亿的中小型纺织企业
  - 数字化基础：至少有6个月以上的历史数据
- 相似度：83.5%
- 创建者：张三（业务专家）
- 创建时间：2026年2月22日
- 使用次数：0次

【这个子Agent可以帮您】
- 快速生成对内概览方案（预计1-2小时）
- 识别1-3个客创方向
- 提供相似案例和数据参考
- 生成客创方向选择卡片

【操作】
○ 使用这个子Agent
○ 不使用，启动通用Agent（需要2-3天）"
```

**用户操作**：
李四选择"使用这个子Agent"

**系统响应**：
```
"✅ 正在启动子Agent...

[子Agent启动成功]

欢迎使用"纺织染色成功率提升方案生成器"！

我将帮助您快速生成概览方案。整个过程大约需要1-2小时。

【开始】
▶️ 开始任务1：需求分析"
```

---

#### **步骤2：执行任务1 - 需求分析（知识挖掘）**

**系统操作**：
子Agent使用已沉淀的问题模板，进行知识挖掘

**界面展示**：
```
"📋 任务1：需求分析

我注意到您提到'染色一次成功率只有75%'这个痛点。为了更准确地为您设计解决方案，我需要了解染色失败的主要原因。

❓ 问题：
请问，染色失败主要是由以下哪些原因导致的？请选择所有适用的选项，并标注大致占比。

选项：
□ 配方不准确（   %）
□ 设备老化（   %）
□ 原料质量不稳定（   %）
□ 操作不规范（   %）
□ 其他原因（请说明：________）

📌 这些信息将帮助我们：
1. 识别最合适的客创方向
2. 估算投资和收益的范围
3. 匹配相似的成功案例

【智能引导】
💡 推荐答案：根据纺织行业数据，配方不准确（40%


---

# 六、功能设计

本章详细描述阶段1需要实现的核心功能。基于用户旅程，我们将功能分为三大类：**0-1过程功能**、**1-1'过程功能**、**2-N过程功能**。

## 6.1 功能架构图

```
┌─────────────────────────────────────────────────────────────┐
│                    概览方案生成产品功能架构                    │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────────────────────────────────────────────┐  │
│  │              0-1过程功能（通用Agent）                │  │
│  ├─────────────────────────────────────────────────────┤  │
│  │  1. 任务规划（固定+动态）                            │  │
│  │  2. 知识挖掘（结果式提问）                           │  │
│  │  3. 智能引导（4个方向）                              │  │
│  │  4. 案例检索与匹配                                   │  │
│  │  5. 知识沉淀                                         │  │
│  │  6. 数据收集                                         │  │
│  │  7. 规则制定                                         │  │
│  │  8. 对内概览方案生成                                 │  │
│  │  9. 客创方向卡片生成                                 │  │
│  │  10. 客创方向对比分析                                │  │
│  │  11. 客创方向确认                                    │  │
│  └─────────────────────────────────────────────────────┘  │
│                           ↓                                 │
│  ┌─────────────────────────────────────────────────────┐  │
│  │              1-1'过程功能（本体沉淀）                │  │
│  ├─────────────────────────────────────────────────────┤  │
│  │  12. 特定配置沉淀                                    │  │
│  │  13. 子Agent生成与部署                               │  │
│  └─────────────────────────────────────────────────────┘  │
│                           ↓                                 │
│  ┌─────────────────────────────────────────────────────┐  │
│  │              2-N过程功能（智能复用）                 │  │
│  ├─────────────────────────────────────────────────────┤  │
│  │  14. 子Agent匹配与调用                               │  │
│  │  15. 快速概览方案生成                                │  │
│  └─────────────────────────────────────────────────────┘  │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

## 6.2 0-1过程功能详细设计

### 功能1：任务规划（固定任务+动态任务）

#### 功能描述
根据需求特征，动态规划任务。任务分为**固定任务**（必须执行）和**动态任务**（根据上下文动态生成）。

#### 触发时机
用户在需求大厅点击"开始客创"后，系统自动触发任务规划。

#### 任务规划逻辑

**固定任务**（必须执行的任务）：
1. **需求分析**：理解客户需求的核心痛点和期望
2. **方向识别**：识别可能的客创方向（1-3个）
3. **方向评估**：评估每个方向的价值、成本、风险
4. **概览方案生成**：生成对内概览方案
5. **客创方向确认**：生成客创方向卡片，供用户选择

**动态任务**（根据上下文动态生成）：
- **需求澄清**：如果需求信息不足，生成此任务
- **数据补充**：如果缺少关键数据（如预算、期望效果），生成此任务
- **案例验证**：如果找到相似案例，生成此任务以验证方案可行性
- **专家咨询**：如果需要特定领域知识，生成此任务（阶段2实现）

#### 任务规划的输入输出

**输入**：
- 客户需求描述
- 思考本体数据（工作流程定义）
- 内容本体数据（任务模板）

**输出**：
- 任务列表（包含固定任务和动态任务）
- 每个任务的：
  - 任务名称
  - 任务描述
  - 任务目标
  - 前置任务（依赖关系）
  - 预估时长

#### 界面展示

任务规划完成后，在CUI对话窗口展示任务卡片：

```
┌─────────────────────────────────────────────────────────┐
│  📋 任务规划已完成                                       │
│                                                         │
│  我已经为您规划了5个任务，预计需要2-3天完成：            │
│                                                         │
│  ✅ 任务1：需求分析（30分钟）                            │
│  ✅ 任务2：方向识别（1-2小时）                           │
│  ⏳ 任务3：案例验证（1小时）[动态任务]                   │
│  ⏳ 任务4：方向评估（2-3小时）                           │
│  ⏳ 任务5：概览方案生成（1-2天）                         │
│                                                         │
│  [开始执行任务1] [查看任务详情] [调整任务]              │
└─────────────────────────────────────────────────────────┘
```

#### 技术实现

**任务规划算法**：
```python
def plan_tasks(demand, method_ontology, content_ontology):
    """
    任务规划算法
    
    Args:
        demand: 客户需求对象
        method_ontology: 思考本体数据
        content_ontology: 内容本体数据
    
    Returns:
        tasks: 任务列表
    """
    tasks = []
    
    # 1. 加载固定任务模板
    fixed_tasks = content_ontology.get_fixed_tasks()
    tasks.extend(fixed_tasks)
    
    # 2. 检测需求完整性，决定是否需要"需求澄清"任务
    if detect_knowledge_gap(demand):
        tasks.insert(0, create_task("需求澄清", type="dynamic"))
    
    # 3. 检测是否有相似案例，决定是否需要"案例验证"任务
    similar_cases = match_similar_cases(demand)
    if similar_cases:
        tasks.insert(2, create_task("案例验证", type="dynamic", 
                                   context=similar_cases))
    
    # 4. 设置任务依赖关系
    set_task_dependencies(tasks)
    
    return tasks
```

---

### 功能2：知识挖掘（结果式提问）

#### 功能描述
在执行任务过程中，如果缺少数据或需要用户补充信息，系统进行**结果式提问**。结果式提问不是单纯问问题，而是结合上下文数据，告诉用户"为什么需要这个信息"、"用来做什么"。

#### 触发时机
- 执行任务时，检测到知识缺口
- 多轮提问，直到满足生成结果的需求

#### 结果式提问的特征

**传统提问 vs 结果式提问**：

| 维度 | 传统提问 | 结果式提问 |
|------|---------|-----------|
| **问题形式** | "您的预算是多少？" | "为了评估智能染色系统的可行性，我需要了解您的预算范围..." |
| **上下文** | 无 | 结合已有信息和分析结果 |
| **目的说明** | 无 | 明确说明"用来做什么" |
| **引导** | 无 | 提供参考答案和方法 |

#### 结果式提问的结构

```
┌─────────────────────────────────────────────────────────┐
│  💡 知识挖掘                                             │
│                                                         │
│  【上下文】                                              │
│  根据您的需求"提升染色一次成功率"，我分析后发现：        │
│  - 当前成功率70%，主要失败原因是配方不准确（40%）        │
│  - 智能染色系统可以通过AI优化配方，提升成功率至95%       │
│                                                         │
│  【为什么需要这个信息】                                  │
│  为了评估智能染色系统的投资回报率，我需要了解：          │
│                                                         │
│  【问题】                                                │
│  1. 您的预算范围是多少？                                 │
│  2. 您期望多久收回投资？                                 │
│                                                         │
│  【用来做什么】                                          │
│  有了这些信息，我可以：                                  │
│  - 计算投资回报周期                                      │
│  - 评估方案的经济可行性                                  │
│  - 为您推荐最合适的方向                                  │
│                                                         │
│  [智能引导] [推荐答案] [方法策略] [自定义输入]          │
└─────────────────────────────────────────────────────────┘
```

#### 知识完整性检测规则

**检测维度**：
1. **需求完整性**：需求描述是否包含痛点、期望、约束
2. **数据完整性**：是否包含关键数据（预算、规模、时间）
3. **场景完整性**：是否描述了业务场景和现状

**检测算法**：
```python
def detect_knowledge_gap(demand, task):
    """
    检测知识缺口
    
    Args:
        demand: 客户需求对象
        task: 当前任务
    
    Returns:
        gaps: 知识缺口列表
    """
    gaps = []
    
    # 1. 检测需求完整性
    if not demand.has_pain_point():
        gaps.append({
            "type": "pain_point",
            "question": "您当前遇到的最大痛点是什么？",
            "context": "了解痛点可以帮助我们找到最合适的解决方向",
            "purpose": "识别客创方向"
        })
    
    # 2. 检测数据完整性
    if not demand.has_budget():
        gaps.append({
            "type": "budget",
            "question": "您的预算范围是多少？",
            "context": f"根据您的需求'{demand.description}'，可能的方案投资在20-150万之间",
            "purpose": "评估方案的经济可行性"
        })
    
    # 3. 检测场景完整性
    if not demand.has_current_situation():
        gaps.append({
            "type": "current_situation",
            "question": "您当前的业务现状是怎样的？",
            "context": "了解现状可以帮助我们设计更贴合实际的方案",
            "purpose": "设计实施路径"
        })
    
    return gaps
```

#### 多轮提问机制

**提问轮次**：
- 不固定，根据知识缺口动态决定
- 每轮提问后，重新检测知识完整性
- 直到满足生成结果的需求

**示例流程**：
```
第1轮提问：
- 检测到缺少"预算"和"期望效果"
- 提问："您的预算范围和期望效果是什么？"
- 用户回答："预算50-80万，希望成功率提升到90%以上"

第2轮提问：
- 检测到缺少"当前设备情况"
- 提问："您当前的染色设备是什么型号？使用多久了？"
- 用户回答："德国进口设备，使用5年"

第3轮提问：
- 检测到知识已完整
- 结束提问，继续执行任务
```

---

### 功能3：智能引导（4个方向）

#### 功能描述
在知识挖掘过程中，每轮问题问完后，提供4个方向的智能引导，帮助用户快速回答问题或获取信息。

#### 4个引导方向

**方向1：推荐答案**
- 基于历史数据和相似案例，推荐可能的答案
- 用户可以直接选择或修改

**方向2：方法策略**
- 提供获取信息的方法和策略
- 例如："如何评估预算？"、"如何计算ROI？"

**方向3：邀请伙伴**
- 邀请专业领域伙伴来协助回答
- 例如：邀请财务专家帮助评估预算（阶段2实现）

**方向4：自定义输入**
- 用户自己输入答案

#### 界面展示

```
┌─────────────────────────────────────────────────────────┐
│  💡 智能引导                                             │
│                                                         │
│  问题：您的预算范围是多少？                              │
│                                                         │
│  ┌───────────────────────────────────────────────────┐ │
│  │ 📊 推荐答案                                        │ │
│  │ 基于相似案例（纺织行业智能化改造），推荐预算：      │ │
│  │ • 小型改造：20-50万                                │ │
│  │ • 中型改造：50-100万 ⭐推荐                        │ │
│  │ • 大型改造：100-200万                              │ │
│  │ [选择中型改造]                                     │ │
│  └───────────────────────────────────────────────────┘ │
│                                                         │
│  ┌───────────────────────────────────────────────────┐ │
│  │ 🔍 方法策略                                        │ │
│  │ 如何评估预算？                                      │ │
│  │ 1. 参考同行案例的投资规模                          │ │
│  │ 2. 根据期望收益倒推投资上限                        │ │
│  │ 3. 评估自身财务承受能力                            │ │
│  │ [查看详细方法]                                     │ │
│  └───────────────────────────────────────────────────┘ │
│                                                         │
│  ┌───────────────────────────────────────────────────┐ │
│  │ 👥 邀请伙伴                                        │ │
│  │ 邀请财务专家协助评估预算                            │ │
│  │ [邀请财务专家]（阶段2实现）                        │ │
│  └───────────────────────────────────────────────────┘ │
│                                                         │
│  ┌───────────────────────────────────────────────────┐ │
│  │ ✍️ 自定义输入                                      │ │
│  │ [输入预算范围...]                                  │ │
│  └───────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────┘
```

#### 推荐答案生成规则

**生成逻辑**：
```python
def generate_recommended_answers(question, demand, cases):
    """
    生成推荐答案
    
    Args:
        question: 当前问题
        demand: 客户需求
        cases: 相似案例
    
    Returns:
        recommended_answers: 推荐答案列表
    """
    # 1. 从相似案例中提取答案
    answers_from_cases = extract_answers_from_cases(question, cases)
    
    # 2. 根据需求特征调整答案
    adjusted_answers = adjust_by_demand(answers_from_cases, demand)
    
    # 3. 排序和推荐
    ranked_answers = rank_answers(adjusted_answers)
    
    return ranked_answers[:3]  # 返回前3个推荐答案
```

---

### 功能4：案例检索与匹配

#### 功能描述
联网检索相似案例（包括我们的历史案例和其他厂商案例），并与当前需求进行匹配，为方案生成提供参考。

#### 案例来源

1. **我们的历史案例**：从内部案例库检索
2. **其他厂商案例**：联网检索公开案例
3. **学术案例**：检索学术论文和研究报告
4. **行业报告**：检索行业分析报告

#### 案例匹配维度

| 维度 | 权重 | 说明 |
|------|------|------|
| **行业** | 30% | 是否同一行业（如纺织行业） |
| **痛点类型** | 25% | 是否相同痛点（如成品率低） |
| **解决方向** | 20% | 是否相同解决方向（如智能化改造） |
| **规模** | 15% | 企业规模是否相近 |
| **技术路线** | 10% | 技术方案是否相似 |

#### 案例匹配算法

```python
def match_similar_cases(demand, case_library):
    """
    匹配相似案例
    
    Args:
        demand: 客户需求
        case_library: 案例库
    
    Returns:
        matched_cases: 匹配的案例列表（按相似度排序）
    """
    matched_cases = []
    
    for case in case_library:
        # 计算相似度
        similarity = calculate_similarity(demand, case)
        
        if similarity > 0.6:  # 相似度阈值
            matched_cases.append({
                "case": case,
                "similarity": similarity,
                "match_reasons": get_match_reasons(demand, case)
            })
    
    # 按相似度排序
    matched_cases.sort(key=lambda x: x["similarity"], reverse=True)
    
    return matched_cases[:10]  # 返回前10个最相似的案例
```

#### 案例展示

```
┌─────────────────────────────────────────────────────────┐
│  📚 相似案例                                             │
│                                                         │
│  我为您找到了3个相似案例：                               │
│                                                         │
│  ┌───────────────────────────────────────────────────┐ │
│  │ 案例1：XX纺织智能染色系统改造（相似度：85%）       │ │
│  │ 来源：我们的历史案例                                │ │
│  │ 行业：纺织印染                                      │ │
│  │ 痛点：染色一次成功率低（68%）                       │ │
│  │ 方案：部署AI智能染色系统                            │ │
│  │ 投资：55万元                                        │ │
│  │ 效果：成功率提升至94%，年节约180万元                │ │
│  │ ROI：4个月                                          │ │
│  │ [查看详情] [联系客户]                              │ │
│  └───────────────────────────────────────────────────┘ │
│                                                         │
│  ┌───────────────────────────────────────────────────┐ │
│  │ 案例2：YY印染厂智能化改造（相似度：78%）           │ │
│  │ 来源：其他厂商案例（XX科技）                        │ │
│  │ 行业：纺织印染                                      │ │
│  │ 痛点：染色质量不稳定                                │ │
│  │ 方案：智能配方系统+实时监控                         │ │
│  │ 投资：60万元                                        │ │
│  │ 效果：成功率提升至92%                               │ │
│  │ 厂商：XX科技（www.xxtech.com，联系电话：xxx）      │ │
│  │ [查看详情] [联系厂商]                              │ │
│  └───────────────────────────────────────────────────┘ │
│                                                         │
│  ┌───────────────────────────────────────────────────┐ │
│  │ 案例3：ZZ纺织数字化转型（相似度：72%）             │ │
│  │ 来源：行业报告（中国纺织工业协会）                  │ │
│  │ 行业：纺织印染                                      │ │
│  │ 方案：ERP+MES+智能染色系统                          │ │
│  │ 投资：150万元                                       │ │
│  │ 效果：整体效率提升30%                               │ │
│  │ [查看详情]                                         │ │
│  └───────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────┘
```

#### 案例验证任务

如果找到高度相似的案例（相似度>80%），系统会生成"案例验证"动态任务：

```
任务：案例验证
目标：验证相似案例的方案是否适用于当前需求
步骤：
1. 对比需求差异
2. 评估方案适用性
3. 识别需要调整的地方
4. 确认方案可行性
```

---

### 功能5：知识沉淀

#### 功能描述
在0-1过程中，将业务专家的回答、决策、经验实时沉淀到内容本体数据中，为后续复用做准备。

#### 沉淀内容

| 沉淀类型 | 沉淀时机 | 沉淀内容 | 存储位置 |
|---------|---------|---------|---------|
| **问题模板** | 知识挖掘时 | 提问的问题、上下文、目的 | 内容本体-问题库 |
| **答案模板** | 用户回答时 | 用户的回答、推荐答案 | 内容本体-知识库 |
| **案例** | 案例验证时 | 相似案例、匹配原因 | 内容本体-案例库 |
| **规则** | 方向评估时 | 评分规则、决策规则 | 内容本体-规则库 |
| **经验** | 任务完成时 | 专家的经验总结 | 内容本体-经验库 |

#### 沉淀机制

**实时沉淀**：
- 在用户回答问题、做出决策时，系统自动记录
- 不需要专家主动操作

**结构化存储**：
- 将非结构化的对话内容，转换为结构化的本体数据
- 例如：用户说"我的预算是50-80万"，系统提取为：
  ```json
  {
    "entity_type": "Budget",
    "value": {
      "min": 500000,
      "max": 800000,
      "currency": "CNY"
    },
    "context": "纺织行业智能染色系统改造",
    "source": "user_input"
  }
  ```

#### 沉淀示例

**问题模板沉淀**：
```json
{
  "question_template": {
    "id": "Q001",
    "question": "您的预算范围是多少？",
    "context_template": "根据您的需求'{demand_description}'，可能的方案投资在{min_budget}-{max_budget}之间",
    "purpose": "评估方案的经济可行性",
    "domain": "纺织行业",
    "task": "方向评估",
    "recommended_answers": [
      {"label": "小型改造", "value": "20-50万"},
      {"label": "中型改造", "value": "50-100万"},
      {"label": "大型改造", "value": "100-200万"}
    ]
  }
}
```

**案例沉淀**：
```json
{
  "case": {
    "id": "C001",
    "title": "巨赢纺织智能染色系统改造",
    "industry": "纺织印染",
    "pain_point": "染色一次成功率低（70%）",
    "solution": "部署AI智能染色系统",
    "investment": 550000,
    "roi_period": 4,
    "effect": "成功率提升至95%，年节约150万元",
    "tags": ["智能化改造", "染色", "AI"],
    "created_by": "张三",
    "created_at": "2026-02-22"
  }
}
```

---

### 功能6：数据收集

#### 功能描述
在0-1过程中，收集各类数据，包括历史数据、行业数据、市场数据，为方案生成和评估提供支撑。

#### 数据类型

| 数据类型 | 来源 | 用途 |
|---------|------|------|
| **历史数据** | 内部数据库 | 参考历史案例的投资和收益 |
| **行业数据** | 行业报告、统计局 | 了解行业平均水平和趋势 |
| **市场数据** | 供应商、厂商 | 了解设备价格、技术成熟度 |
| **竞品数据** | 联网检索 | 了解竞品方案和价格 |

#### 数据收集方式

**自动收集**：
- 联网检索相关数据
- 从内部数据库提取历史数据

**专家补充**：
- 专家上传相关资料
- 专家标注数据的可信度

#### 数据展示

```
┌─────────────────────────────────────────────────────────┐
│  📊 数据收集                                             │
│                                                         │
│  我为您收集了以下数据：                                  │
│                                                         │
│  ┌───────────────────────────────────────────────────┐ │
│  │ 历史数据                                           │ │
│  │ • 过去3年，我们完成了12个纺织行业智能化改造项目     │ │
│  │ • 平均投资：65万元                                  │ │
│  │ • 平均ROI周期：5个月                                │ │
│  │ • 平均成功率提升：20%                               │ │
│  └───────────────────────────────────────────────────┘ │
│                                                         │
│  ┌───────────────────────────────────────────────────┐ │
│  │ 行业数据                                           │ │
│  │ • 2025年纺织行业智能化改造投资规模：50亿元          │ │
│  │ • 行业平均染色一次成功率：75%                       │ │
│  │ • 智能染色系统市场增长率：30%/年                    │ │
│  └───────────────────────────────────────────────────┘ │
│                                                         │
│  ┌───────────────────────────────────────────────────┐ │
│  │ 市场数据                                           │ │
│  │ • 智能染色系统价格：30-80万元                       │ │
│  │ • 主要供应商：XX科技、YY智能、ZZ系统                │ │
│  │ • 技术成熟度：成熟（已有100+案例）                  │ │
│  └───────────────────────────────────────────────────┘ │
│                                                         │
│  [补充数据] [验证数据]                                  │
└─────────────────────────────────────────────────────────┘
```

---

### 功能7：规则制定

#### 功能描述
在方向评估过程中，业务专家制定评分规则和决策规则，用于评估客创方向的优先级。

#### 规则类型

**评分规则**：
- 定义评估维度（如投资成本、预期收益、实施难度、风险等级）
- 定义每个维度的权重
- 定义评分标准

**决策规则**：
- 定义方向推荐的逻辑
- 例如："如果ROI周期<6个月，且风险等级为中或低，则推荐"

#### 规则制定流程

```
1. 系统提供默认规则（基于历史经验）
2. 专家审核默认规则
3. 专家调整规则（修改权重、评分标准）
4. 系统应用规则进行评估
5. 专家确认评估结果
6. 规则沉淀到内容本体数据
```

#### 规则示例

**评分规则**：
```json
{
  "scoring_rule": {
    "dimensions": [
      {
        "name": "投资成本",
        "weight": 0.25,
        "scoring_criteria": {
          "low": {"range": [0, 500000], "score": 5},
          "medium": {"range": [500000, 1000000], "score": 3},
          "high": {"range": [1000000, 999999999], "score": 1}
        }
      },
      {
        "name": "预期收益",
        "weight": 0.30,
        "scoring_criteria": {
          "low": {"range": [0, 500000], "score": 1},
          "medium": {"range": [500000, 1500000], "score": 3},
          "high": {"range": [1500000, 999999999], "score": 5}
        }
      },
      {
        "name": "ROI周期",
        "weight": 0.25,
        "scoring_criteria": {
          "fast": {"range": [0, 6], "score": 5, "unit": "months"},
          "medium": {"range": [6, 12], "score": 3, "unit": "months"},
          "slow": {"range": [12, 999], "score": 1, "unit": "months"}
        }
      },
      {
        "name": "实施难度",
        "weight": 0.10,
        "scoring_criteria": {
          "low": {"score": 5},
          "medium": {"score": 3},
          "high": {"score": 1}
        }
      },
      {
        "name": "风险等级",
        "weight": 0.10,
        "scoring_criteria": {
          "low": {"score": 5},
          "medium": {"score": 3},
          "high": {"score": 1}
        }
      }
    ]
  }
}
```

**决策规则**：
```json
{
  "recommendation_rule": {
    "conditions": [
      {
        "if": "roi_period < 6 AND risk_level IN ['low', 'medium']",
        "then": "recommend",
        "priority": "high"
      },
      {
        "if": "total_score >= 4.0",
        "then": "recommend",
        "priority": "medium"
      },
      {
        "if": "investment < budget * 0.8 AND expected_revenue > investment * 2",
        "then": "recommend",
        "priority": "medium"
      }
    ]
  }
}
```

---

### 功能8：对内概览方案生成

#### 功能描述
基于前面的任务执行结果，生成对内概览方案，供业务专家内部使用。

#### 对内概览方案的结构

```markdown
# 概览方案：{客户名称}{需求描述}

## 一、客户需求概述
- 客户名称：{客户名称}
- 所属行业：{行业}
- 企业规模：{规模}
- 核心需求：{需求描述}
- 核心痛点：{痛点列表}
- 客户期望：{期望目标}

## 二、客创方向分析

### 客创方向1：{方向名称} ⭐推荐
#### 2.1 核心价值主张
{一句话价值}

#### 2.2 解决思路
{解决思路描述}

#### 2.3 投资与收益参考
- 投资范围：{最小值}-{最大值}万元（参考值，详细方案设计后确定）
- 预期收益：{最小值}-{最大值}万元/年（参考值）
- ROI周期：{最小值}-{最大值}个月（参考值）

**数据来源**：
- 历史案例：{案例数量}个相似案例的平均值
- 浮动范围：±20%（受现场情况影响）

#### 2.4 相似案例
{展示2-3个相似案例，包括我们的案例和其他厂商案例}

#### 2.5 风险与不确定性
- 主要风险：{风险列表}
- 不确定性因素：{不确定性列表}
- 风险应对：{应对措施}

#### 2.6 其他厂商信息
{如果有其他厂商做过类似案例，展示厂商信息和联系方式}

### 客创方向2：{方向名称}
{同上}

### 客创方向3：{方向名称}
{同上}

## 三、客创方向对比分析

| 对比维度 | 方向1 | 方向2 | 方向3 |
|---------|------|------|------|
| 投资成本 | {值} | {值} | {值} |
| 预期收益 | {值} | {值} | {值} |
| ROI周期 | {值} | {值} | {值} |
| 实施难度 | {值} | {值} | {值} |
| 风险等级 | {值} | {值} | {值} |
| 推荐指数 | {值} | {值} | {值} |

## 四、专业推荐建议

基于{客户名称}当前的痛点（{核心痛点}）和{约束条件}，我们推荐选择**{推荐方向}**，理由如下：

1. {推荐理由1}
2. {推荐理由2}
3. {推荐理由3}

## 五、应对话术

### 5.1 客户可能的质疑
- 质疑1：{质疑内容}
  - 应对话术：{话术}
  - 支撑数据：{数据}

- 质疑2：{质疑内容}
  - 应对话术：{话术}
  - 支撑数据：{数据}

### 5.2 竞品对比
- 竞品1：{竞品名称}
  - 优势：{我们的优势}
  - 劣势：{竞品的劣势}
  - 应对策略：{策略}

## 六、下一步行动

✅ **第1步：确认客创方向**（今天）
- 与客户沟通，确认选择哪个方向

✅ **第2步：详细方案设计**（1-2周）
- 现场调研（2-3天）
- 精确测算（3-5天）
- 详细规划（5-7天）

✅ **第3步：详细方案评审**（1天）
- 向客户呈现详细方案
- 客户确认后签约

✅ **第4步：项目实施**（4-6个月）
```

#### 生成逻辑

```python
def generate_internal_overview_solution(demand, directions, cases, rules):
    """
    生成对内概览方案
    
    Args:
        demand: 客户需求对象
        directions: 客创方向列表
        cases: 相似案例列表
        rules: 评分规则
    
    Returns:
        solution: 对内概览方案文档
    """
    solution = {
        "customer_overview": generate_customer_overview(demand),
        "directions": [],
        "comparison": generate_comparison_table(directions, rules),
        "recommendation": generate_recommendation(directions, demand, rules),
        "talking_points": generate_talking_points(directions, cases),
        "next_steps": generate_next_steps()
    }
    
    # 为每个方向生成详细内容
    for direction in directions:
        direction_detail = {
            "name": direction.name,
            "value_proposition": direction.value_proposition,
            "solution_approach": direction.solution_approach,
            "investment_revenue": calculate_investment_revenue(direction, cases),
            "similar_cases": filter_similar_cases(direction, cases),
            "risks": identify_risks(direction),
            "vendor_info": find_vendor_info(direction, cases)
        }
        solution["directions"].append(direction_detail)
    
    return solution
```

---

### 功能9：客创方向卡片生成

#### 功能描述
基于对内概览方案，生成客创方向卡片，用于客户快速对比和选择。

#### 客创方向卡片的结构

```
┌─────────────────────────────────────────────────────────┐
│  客创方向1：智能染色系统方向 ⭐推荐                       │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  💡 核心价值                                             │
│  AI优化配方，成功率提升至95%，年节约150万元              │
│                                                         │
│  💰 投资与收益                                           │
│  • 投资：50万元（参考值，±20%）                          │
│  • 收益：150万元/年（参考值）                            │
│  • ROI：4个月                                            │
│                                                         │
│  📊 评分                                                 │
│  • 投资成本：⭐⭐⭐⭐⭐ (5/5)                             │
│  • 预期收益：⭐⭐⭐⭐⭐ (5/5)                             │
│  • ROI周期：⭐⭐⭐⭐⭐ (5/5)                              │
│  • 实施难度：⭐⭐⭐ (3/5)                                 │
│  • 风险等级：⭐⭐⭐ (3/5)                                 │
│  • 综合评分：4.6/5.0                                     │
│                                                         │
│  ✅ 适合场景                                             │
│  预算50-80万，追求快速见效，愿意接受中等技术风险          │
│                                                         │
│  ⚠️ 主要风险                                             │
│  • 数据质量影响AI效果                                    │
│  • 设备兼容性可能增加成本                                │
│                                                         │
│  📚 相似案例                                             │
│  • XX纺织：投资55万，成功率提升至94%，ROI 4个月          │
│  • YY印染：投资60万，成功率提升至92%（XX科技方案）       │
│                                                         │
│  [选择此方向] [查看详情]                                 │
└─────────────────────────────────────────────────────────┘
```

#### 卡片生成逻辑

```python
def generate_direction_card(direction, cases, rules):
    """
    生成客创方向卡片
    
    Args:
        direction: 客创方向对象
        cases: 相似案例
        rules: 评分规则
    
    Returns:
        card: 客创方向卡片数据
    """
    card = {
        "name": direction.name,
        "value_proposition": direction.value_proposition,
        "investment_revenue": {
            "investment": calculate_investment_range(direction, cases),
            "revenue": calculate_revenue_range(direction, cases),
            "roi_period": calculate_roi_period(direction, cases)
        },
        "scores": calculate_scores(direction, rules),
        "suitable_scenario": generate_suitable_scenario(direction),
        "risks": identify_main_risks(direction),
        "similar_cases": filter_top_cases(direction, cases, limit=2),
        "is_recommended": is_recommended(direction, rules)
    }
    
    return card
```

---

### 功能10：客创方向对比分析

#### 功能描述
生成客创方向对比分析表，帮助客户快速对比不同方向的优劣。

#### 对比维度

| 对比维度 | 说明 | 数据来源 |
|---------|------|---------|
| **投资成本** | 初始投资金额 | 相似案例平均值 |
| **预期收益** | 年收益估算 | 相似案例平均值 |
| **ROI周期** | 投资回收周期 | 计算得出 |
| **实施难度** | 实施的复杂度 | 专家评估 |
| **风险等级** | 方案的风险程度 | 专家评估 |
| **推荐指数** | 综合推荐程度 | 评分规则计算 |

#### 对比表展示

```
┌─────────────────────────────────────────────────────────┐
│  📊 客创方向对比分析                                     │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  | 对比维度 | 智能染色系统 | 供应链优化 | 综合数字化 |   │
│  |---------|-------------|-----------|-----------|       │
│  | 投资成本 | 50万 ⭐⭐⭐⭐ | 20万 ⭐⭐⭐⭐⭐ | 150万 ⭐⭐ |  │
│  | 预期收益 | 150万/年 ⭐⭐⭐⭐⭐ | 80万/年 ⭐⭐⭐ | 300万/年 ⭐⭐⭐⭐⭐ | │
│  | ROI周期 | 4个月 ⭐⭐⭐⭐⭐ | 3个月 ⭐⭐⭐⭐⭐ | 6个月 ⭐⭐⭐⭐ |   │
│  | 实施难度 | 中 ⭐⭐⭐ | 低 ⭐⭐⭐⭐⭐ | 高 ⭐ |              │
│  | 风险等级 | 中 ⭐⭐⭐ | 低 ⭐⭐⭐⭐⭐ | 高 ⭐ |              │
│  | 综合评分 | 4.6/5.0 ⭐⭐⭐⭐⭐ | 3.8/5.0 ⭐⭐⭐⭐ | 4.2/5.0 ⭐⭐⭐⭐ | │
│  | 推荐指数 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐ |                  │
│                                                         │
│  💡 推荐建议                                             │
│  基于您的需求和约束条件，我们推荐"智能染色系统方向"：    │
│  • 直击核心痛点（染色成功率低）                          │
│  • 投入产出比高（ROI 4个月）                             │
│  • 实施风险可控（技术成熟，有多个成功案例）              │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

---

### 功能11：客创方向确认

#### 功能描述
用户选择客创方向后，系统记录选择结果，并准备进入详细方案设计阶段。

#### 确认流程

```
1. 用户查看客创方向卡片和对比分析
2. 用户选择一个方向
3. 系统询问："您确认选择'{方向名称}'吗？"
4. 用户确认
5. 系统记录选择结果
6. 系统引导："是否将此过程沉淀为可复用的智能能力？"
```

#### 确认界面

```
┌─────────────────────────────────────────────────────────┐
│  ✅ 客创方向确认                                         │
│                                                         │
│  您已选择：智能染色系统方向                              │
│                                                         │
│  📋 下一步行动                                           │
│  1. 进入详细方案设计阶段                                 │
│  2. 现场调研（2-3天）                                    │
│  3. 精确测算（3-5天）                                    │
│  4. 详细规划（5-7天）                                    │
│                                                         │
│  💡 智能能力沉淀                                         │
│  我发现您刚才完成了一个完整的概览方案生成过程，          │
│  是否需要将此过程沉淀为可复用的智能能力？                │
│                                                         │
│  沉淀后，下次遇到相似需求时，可以快速生成概览方案，      │
│  大大提升效率。                                          │
│                                                         │
│  [是，沉淀为智能能力] [否，暂不沉淀]                     │
└─────────────────────────────────────────────────────────┘
```

---

## 6.3 1-1'过程功能详细设计

### 功能12：特定配置沉淀

#### 功能描述
将0-1过程中的实例数据抽象为可复用的本体数据，存储到本体数据底座中。

#### 沉淀内容

**从0-1过程中提取**：
1. **任务模板**：这类需求需要执行哪些任务
2. **问题模板**：这类需求需要问哪些问题
3. **知识库**：专家的回答和经验
4. **案例库**：相似案例和匹配规则
5. **规则库**：评分规则和决策规则
6. **数据库**：历史数据和行业数据

**抽象为本体数据**：
- 将具体的实例数据，抽象为通用的模板和规则
- 例如：
  - 实例："巨赢纺织的预算是50-80万" 
  - 抽象："纺织行业智能化改造的预算范围通常是20-150万"

#### 沉淀流程

```
1. 用户确认"沉淀为智能能力"
2. 系统展示沉淀预览：
   - 将沉淀哪些内容
   - 沉淀后的效果预览
3. 用户审核和补充：
   - 审核任务模板
   - 审核问题模板
   - 补充经验和知识
4. 系统将数据存储到本体数据底座
5. 系统生成子Agent
```

#### 沉淀预览界面

```
┌─────────────────────────────────────────────────────────┐
│  💾 智能能力沉淀预览                                     │
│                                                         │
│  我将从您刚才的过程中提取以下内容：                      │
│                                                         │
│  ┌───────────────────────────────────────────────────┐ │
│  │ 📋 任务模板（5个）                                  │ │
│  │ 1. 需求分析                                         │ │
│  │ 2. 方向识别                                         │ │
│  │ 3. 案例验证（动态任务）                             │ │
│  │ 4. 方向评估                                         │ │
│  │ 5. 概览方案生成                                     │ │
│  │ [查看详情] [调整]                                   │ │
│  └───────────────────────────────────────────────────┘ │
│                                                         │
│  ┌───────────────────────────────────────────────────┐ │
│  │ ❓ 问题模板（8个）                                  │ │
│  │ 1. 您的预算范围是多少？                             │ │
│  │ 2. 您期望多久收回投资？                             │ │
│  │ 3. 您当前的染色设备情况如何？                       │ │
│  │ ... （共8个问题）                                   │ │
│  │ [查看详情] [调整]                                   │ │
│  └───────────────────────────────────────────────────┘ │
│                                                         │
│  ┌───────────────────────────────────────────────────┐ │
│  │ 📚 案例库（3个）                                    │ │
│  │ 1. 巨赢纺织智能染色系统改造                         │ │
│  │ 2. XX纺织智能染色系统改造                           │ │
│  │ 3. YY印染厂智能化改造                               │ │
│  │ [查看详情] [补充案例]                               │ │
│  └───────────────────────────────────────────────────┘ │
│                                                         │
│  ┌───────────────────────────────────────────────────┐ │
│  │ 📏 规则库（2个）                                    │ │
│  │ 1. 客创方向评分规则                                 │ │
│  │ 2. 客创方向推荐规则                                 │ │
│  │ [查看详情] [调整]                                   │ │
│  └───────────────────────────────────────────────────┘ │
│                                                         │
│  ┌───────────────────────────────────────────────────┐ │
│  │ 💡 知识库（12条）                                   │ │
│  │ 1. 纺织行业智能化改造的预算范围：20-150万           │ │
│  │ 2. 智能染色系统可提升成功率20-25%                   │ │
│  │ 3. ROI周期通常为3-6个月                             │ │
│  │ ... （共12条知识）                                  │ │
│  │ [查看详情] [补充知识]                               │ │
│  └───────────────────────────────────────────────────┘ │
│                                                         │
│  💡 沉淀后的效果                                         │
│  下次遇到"纺织行业智能化改造"需求时，可以：              │
│  • 自动规划任务（无需人工规划）                          │
│  • 自动提问（基于问题模板）                              │
│  • 自动匹配案例（基于案例库）                            │
│  • 自动评估方向（基于规则库）                            │
│  • 快速生成概览方案（预计30分钟内完成）                  │
│                                                         │
│  [确认沉淀] [取消]                                       │
└─────────────────────────────────────────────────────────┘
```

#### 沉淀算法

```python
def deposit_configuration(process_data, method_ontology, content_ontology):
    """
    将0-1过程数据沉淀为本体数据
    
    Args:
        process_data: 0-1过程的完整数据
        method_ontology: 思考本体数据
        content_ontology: 内容本体数据
    
    Returns:
        deposited_config: 沉淀的配置数据
    """
    deposited_config = {
        "domain": extract_domain(process_data),  # 提取领域（如"纺织行业智能化改造"）
        "task_templates": abstract_task_templates(process_data.tasks),
        "question_templates": abstract_question_templates(process_data.questions),
        "knowledge_base": extract_knowledge(process_data.answers),
        "case_library": collect_cases(process_data.cases),
        "rule_library": extract_rules(process_data.rules),
        "data_library": collect_data(process_data.data)
    }
    
    # 存储到本体数据底座
    content_ontology.save(deposited_config)
    
    return deposited_config
```

---

### 功能13：子Agent生成与部署

#### 功能描述
基于沉淀的本体数据，使用Claude Code生成子Agent（一个完整的AI原生应用），并部署到平台上供一线业务人员使用。

#### 子Agent的组成

```
子Agent = 通用Agent + 特定本体数据 + 定制化交互界面

具体包含：
1. CUI对话窗口（加载特定领域的对话模板）
2. GUI页面：
   - 任务管理页面
   - 概览方案展示页面
   - 客创方向卡片页面
3. 智能能力：
   - 任务规划能力（基于任务模板）
   - 知识挖掘能力（基于问题模板）
   - 案例匹配能力（基于案例库）
   - 方向评估能力（基于规则库）
```

#### 子Agent生成流程

```
1. 用户确认沉淀配置
2. 系统调用Claude Code
3. Claude Code基于以下输入生成子Agent：
   - 思考本体数据（方法论）
   - 内容本体数据（特定配置）
   - 应用本体数据（交互要求）
4. 生成的子Agent包含：
   - 前端代码（React + Tailwind）
   - 后端代码（如果需要）
   - 配置文件
5. 系统自动部署子Agent
6. 生成子Agent的访问链接
7. 通知用户"子Agent已生成"
```

#### 子Agent生成界面

```
┌─────────────────────────────────────────────────────────┐
│  🤖 子Agent生成中...                                     │
│                                                         │
│  ┌───────────────────────────────────────────────────┐ │
│  │ ✅ 加载思考本体数据                                 │ │
│  │ ✅ 加载内容本体数据                                 │ │
│  │ ✅ 加载应用本体数据                                 │ │
│  │ ⏳ 生成前端代码...                                  │ │
│  │ ⏳ 生成后端代码...                                  │ │
│  │ ⏳ 部署子Agent...                                   │ │
│  └───────────────────────────────────────────────────┘ │
│                                                         │
│  预计需要2-3分钟...                                      │
└─────────────────────────────────────────────────────────┘
```

```
┌─────────────────────────────────────────────────────────┐
│  ✅ 子Agent生成成功！                                    │
│                                                         │
│  🤖 子Agent信息                                          │
│  • 名称：纺织行业智能化改造概览方案生成Agent             │
│  • 领域：纺织行业智能化改造                              │
│  • 版本：v1.0                                            │
│  • 创建时间：2026-02-22 15:30                            │
│  • 创建人：张三                                          │
│                                                         │
│  🔗 访问链接                                             │
│  https://app.example.com/sub-agents/textile-智能化改造   │
│                                                         │
│  💡 使用说明                                             │
│  • 一线业务人员可以直接使用此子Agent                     │
│  • 遇到"纺织行业智能化改造"需求时，自动匹配此子Agent     │
│  • 预计30分钟内完成概览方案生成                          │
│                                                         │
│  📊 预期效果                                             │
│  • 效率提升：从2-3天 → 30分钟                            │
│  • 质量提升：基于专家经验，质量更稳定                    │
│  • 成本降低：无需每次都找专家                            │
│                                                         │
│  [试用子Agent] [分享给团队] [管理子Agent]                │
└─────────────────────────────────────────────────────────┘
```

#### Claude Code生成子Agent的Prompt

```
你是一个专业的AI应用开发助手。请基于以下输入，生成一个完整的"概览方案生成子Agent"：

【思考本体数据】
{思考本体数据的JSON}

【内容本体数据】
{内容本体数据的JSON，包含任务模板、问题模板、案例库、规则库、知识库}

【应用本体数据】
{应用本体数据的JSON，包含交互要求、界面设计要求}

【生成要求】
1. 生成一个完整的AI原生应用，包含：
   - CUI对话窗口（使用React实现）
   - GUI页面（任务管理、概览方案展示、客创方向卡片）
   - 智能能力（任务规划、知识挖掘、案例匹配、方向评估）

2. 技术栈：
   - 前端：React 19 + Tailwind 4 + shadcn/ui
   - 后端：Node.js + Express（如果需要）
   - 数据存储：本地存储或云端存储

3. 功能要求：
   - 加载特定领域的任务模板，自动规划任务
   - 加载特定领域的问题模板，进行知识挖掘
   - 加载特定领域的案例库，自动匹配相似案例
   - 加载特定领域的规则库，自动评估方向
   - 生成对内概览方案和客创方向卡片

4. 交互要求：
   - CUI对话窗口应该流畅、自然
   - GUI页面应该简洁、美观
   - 智能引导应该及时、有效

请生成完整的代码和配置文件。
```

---

## 6.4 2-N过程功能详细设计

### 功能14：子Agent匹配与调用

#### 功能描述
当一线业务人员遇到新需求时，系统自动匹配相似的子Agent，并调用子Agent快速生成概览方案。

#### 匹配维度

| 维度 | 权重 | 说明 |
|------|------|------|
| **行业** | 30% | 是否同一行业 |
| **痛点类型** | 25% | 是否相同痛点 |
| **解决方向** | 20% | 是否相同解决方向 |
| **规模** | 15% | 企业规模是否相近 |
| **技术路线** | 10% | 技术方案是否相似 |

#### 匹配规则

**相似度计算**：
```python
def calculate_similarity(new_demand, sub_agent):
    """
    计算新需求与子Agent的相似度
    
    Args:
        new_demand: 新需求对象
        sub_agent: 子Agent对象
    
    Returns:
        similarity: 相似度（0-1）
    """
    similarity = 0
    
    # 1. 行业相似度（30%）
    if new_demand.industry == sub_agent.domain.industry:
        similarity += 0.30
    
    # 2. 痛点相似度（25%）
    pain_point_similarity = calculate_text_similarity(
        new_demand.pain_point, 
        sub_agent.domain.pain_point
    )
    similarity += 0.25 * pain_point_similarity
    
    # 3. 解决方向相似度（20%）
    direction_similarity = calculate_text_similarity(
        new_demand.expected_solution,
        sub_agent.domain.solution_direction
    )
    similarity += 0.20 * direction_similarity
    
    # 4. 规模相似度（15%）
    scale_similarity = calculate_scale_similarity(
        new_demand.company_scale,
        sub_agent.domain.typical_scale
    )
    similarity += 0.15 * scale_similarity
    
    # 5. 技术路线相似度（10%）
    tech_similarity = calculate_text_similarity(
        new_demand.tech_preference,
        sub_agent.domain.tech_approach
    )
    similarity += 0.10 * tech_similarity
    
    return similarity
```

**匹配策略**：
- **相似度≥80%**：直接调用子Agent，无需人工确认
- **相似度60-80%**：推荐子Agent，由用户确认是否使用
- **相似度<60%**：不推荐子Agent，走通用Agent的0-1流程

#### 匹配界面

```
┌─────────────────────────────────────────────────────────┐
│  🔍 智能匹配                                             │
│                                                         │
│  我发现您的需求与以下子Agent高度相似：                   │
│                                                         │
│  ┌───────────────────────────────────────────────────┐ │
│  │ 🤖 纺织行业智能化改造概览方案生成Agent              │ │
│  │ 相似度：85%                                         │ │
│  │                                                     │ │
│  │ 匹配原因：                                          │ │
│  │ ✅ 同一行业（纺织行业）                             │ │
│  │ ✅ 相同痛点（成品率低）                             │ │
│  │ ✅ 相同方向（智能化改造）                           │ │
│  │ ✅ 相近规模（年产值2亿左右）                        │ │
│  │                                                     │ │
│  │ 使用此子Agent的效果：                               │ │
│  │ • 预计30分钟内完成概览方案生成                      │ │
│  │ • 基于专家经验，质量更稳定                          │ │
│  │ • 自动匹配相似案例和数据                            │ │
│  │                                                     │ │
│  │ [使用此子Agent] [查看详情]                          │ │
│  └───────────────────────────────────────────────────┘ │
│                                                         │
│  [不使用，走通用流程]                                    │
└─────────────────────────────────────────────────────────┘
```

#### 调用流程

```
1. 用户在需求大厅提交需求
2. 系统自动匹配子Agent
3. 如果相似度≥80%：
   - 直接调用子Agent
   - 跳转到子Agent的CUI对话窗口
4. 如果相似度60-80%：
   - 推荐子Agent，由用户确认
   - 用户确认后，调用子Agent
5. 如果相似度<60%：
   - 不推荐子Agent
   - 走通用Agent的0-1流程
```

---

### 功能15：快速概览方案生成

#### 功能描述
子Agent基于沉淀的本体数据，快速生成概览方案，大大缩短生成时间（从2-3天 → 30分钟）。

#### 快速生成的原理

**通用Agent（0-1过程）**：
- 需要多轮知识挖掘（8-10轮提问）
- 需要人工检索案例
- 需要人工制定规则
- 需要人工评估方向
- 预计2-3天

**子Agent（2-N过程）**：
- 自动加载问题模板（减少提问轮次）
- 自动匹配案例（无需人工检索）
- 自动应用规则（无需人工制定）
- 自动评估方向（无需人工评估）
- 预计30分钟

#### 快速生成流程

```
1. 用户提交需求
2. 子Agent自动规划任务（基于任务模板）
3. 子Agent自动提问（基于问题模板，只问关键问题）
4. 用户回答问题（2-3轮即可）
5. 子Agent自动匹配案例（基于案例库）
6. 子Agent自动评估方向（基于规则库）
7. 子Agent生成概览方案（基于模板）
8. 用户确认方向
9. 完成
```

#### 快速生成界面

```
┌─────────────────────────────────────────────────────────┐
│  ⚡ 快速概览方案生成                                     │
│                                                         │
│  ✅ 任务规划完成（基于模板，自动生成5个任务）            │
│  ✅ 知识挖掘完成（只需回答3个关键问题）                  │
│  ✅ 案例匹配完成（自动匹配到3个相似案例）                │
│  ✅ 方向评估完成（基于规则，自动评估3个方向）            │
│  ⏳ 概览方案生成中...                                    │
│                                                         │
│  预计还需5分钟...                                        │
└─────────────────────────────────────────────────────────┘
```

```
┌─────────────────────────────────────────────────────────┐
│  ✅ 概览方案生成完成！                                   │
│                                                         │
│  📊 生成统计                                             │
│  • 总耗时：28分钟                                        │
│  • 提问轮次：3轮（vs 通用Agent的8-10轮）                 │
│  • 匹配案例：3个                                         │
│  • 生成方向：3个                                         │
│                                                         │
│  💡 效率提升                                             │
│  • 时间节省：95%（从2-3天 → 30分钟）                     │
│  • 质量提升：基于专家经验，质量更稳定                    │
│                                                         │
│  [查看概览方案] [选择客创方向]                           │
└─────────────────────────────────────────────────────────┘
```

---

## 6.5 功能优先级与实施顺序

### 阶段1功能清单

| 功能编号 | 功能名称 | 优先级 | 实施顺序 | 预估工作量 |
|---------|---------|--------|---------|-----------|
| 功能1 | 任务规划（固定+动态） | P0 | 1 | 5人天 |
| 功能2 | 知识挖掘（结果式提问） | P0 | 2 | 8人天 |
| 功能3 | 智能引导（4个方向） | P0 | 3 | 10人天 |
| 功能4 | 案例检索与匹配 | P0 | 4 | 8人天 |
| 功能5 | 知识沉淀 | P0 | 5 | 5人天 |
| 功能6 | 数据收集 | P1 | 6 | 5人天 |
| 功能7 | 规则制定 | P0 | 7 | 5人天 |
| 功能8 | 对内概览方案生成 | P0 | 8 | 8人天 |
| 功能9 | 客创方向卡片生成 | P0 | 9 | 5人天 |
| 功能10 | 客创方向对比分析 | P0 | 10 | 3人天 |
| 功能11 | 客创方向确认 | P0 | 11 | 2人天 |
| 功能12 | 特定配置沉淀 | P0 | 12 | 10人天 |
| 功能13 | 子Agent生成与部署 | P0 | 13 | 15人天 |
| 功能14 | 子Agent匹配与调用 | P0 | 14 | 8人天 |
| 功能15 | 快速概览方案生成 | P0 | 15 | 5人天 |

**总计**：102人天（约5个月，按2人团队计算）

### 功能依赖关系

```
功能1（任务规划）
  ↓
功能2（知识挖掘）
  ↓
功能3（智能引导）
  ↓
功能4（案例检索）+ 功能5（知识沉淀）+ 功能6（数据收集）+ 功能7（规则制定）
  ↓
功能8（对内概览方案生成）
  ↓
功能9（客创方向卡片生成）+ 功能10（客创方向对比分析）
  ↓
功能11（客创方向确认）
  ↓
功能12（特定配置沉淀）
  ↓
功能13（子Agent生成与部署）
  ↓
功能14（子Agent匹配与调用）+ 功能15（快速概览方案生成）
```

---



---

## 七、数据模型设计

本章详细定义了概览方案生成产品的数据模型，包括三类本体数据的详细结构和关系。

### 7.1 思考本体数据模型

思考本体数据定义了"如何做"的方法论，是通用概览方案生成Agent的核心指导。

#### 7.1.1 对象类型（Object Types）

##### **Demand（需求）**
```json
{
  "objectType": "Demand",
  "properties": {
    "demandId": "string",
    "customerName": "string",
    "industry": "string",
    "coreNeed": "string",
    "painPoints": "array<string>",
    "budget": "number",
    "expectedEffect": "string",
    "submittedBy": "string",
    "submittedAt": "timestamp",
    "status": "enum[pending, analyzing, completed]"
  },
  "linkTypes": [
    {
      "name": "hasTask",
      "targetType": "Task",
      "cardinality": "one-to-many"
    },
    {
      "name": "generatesOverviewSolution",
      "targetType": "OverviewSolution",
      "cardinality": "one-to-one"
    }
  ]
}
```

##### **Task（任务）**
```json
{
  "objectType": "Task",
  "properties": {
    "taskId": "string",
    "taskName": "string",
    "taskType": "enum[fixed, dynamic]",
    "taskDescription": "string",
    "taskGoal": "string",
    "requiredKnowledge": "array<string>",
    "dependencies": "array<taskId>",
    "status": "enum[pending, in_progress, completed, blocked]",
    "assignedTo": "string",
    "createdAt": "timestamp",
    "completedAt": "timestamp"
  },
  "linkTypes": [
    {
      "name": "belongsToDemand",
      "targetType": "Demand",
      "cardinality": "many-to-one"
    },
    {
      "name": "dependsOn",
      "targetType": "Task",
      "cardinality": "many-to-many"
    },
    {
      "name": "producesKnowledge",
      "targetType": "Knowledge",
      "cardinality": "one-to-many"
    }
  ]
}
```

##### **Direction（客创方向）**
```json
{
  "objectType": "Direction",
  "properties": {
    "directionId": "string",
    "directionName": "string",
    "coreValue": "string",
    "solutionApproach": "string",
    "estimatedInvestment": "object{min: number, max: number}",
    "estimatedRevenue": "object{min: number, max: number}",
    "roiPeriod": "string",
    "implementationDifficulty": "enum[low, medium, high]",
    "riskLevel": "enum[low, medium, high]",
    "score": "number",
    "isRecommended": "boolean"
  },
  "linkTypes": [
    {
      "name": "belongsToOverviewSolution",
      "targetType": "OverviewSolution",
      "cardinality": "many-to-one"
    },
    {
      "name": "supportedByCases",
      "targetType": "Case",
      "cardinality": "many-to-many"
    },
    {
      "name": "requiresKnowledge",
      "targetType": "Knowledge",
      "cardinality": "many-to-many"
    }
  ]
}
```

##### **Case（案例）**
```json
{
  "objectType": "Case",
  "properties": {
    "caseId": "string",
    "caseName": "string",
    "caseSource": "enum[internal, external, uploaded]",
    "industry": "string",
    "scenario": "string",
    "solution": "string",
    "investment": "number",
    "revenue": "number",
    "effect": "string",
    "vendorName": "string",
    "vendorContact": "string",
    "vendorWebsite": "string",
    "confirmedBy": "string",
    "uploadedBy": "string",
    "createdAt": "timestamp"
  },
  "linkTypes": [
    {
      "name": "supportsDirection",
      "targetType": "Direction",
      "cardinality": "many-to-many"
    },
    {
      "name": "containsKnowledge",
      "targetType": "Knowledge",
      "cardinality": "one-to-many"
    }
  ]
}
```

##### **Knowledge（知识）**
```json
{
  "objectType": "Knowledge",
  "properties": {
    "knowledgeId": "string",
    "knowledgeType": "enum[industry, technical, experience, data]",
    "content": "string",
    "source": "string",
    "confidence": "number",
    "createdBy": "string",
    "createdAt": "timestamp",
    "verifiedBy": "string",
    "verifiedAt": "timestamp"
  },
  "linkTypes": [
    {
      "name": "producedByTask",
      "targetType": "Task",
      "cardinality": "many-to-one"
    },
    {
      "name": "supportedByCase",
      "targetType": "Case",
      "cardinality": "many-to-one"
    }
  ]
}
```

##### **Rule（规则）**
```json
{
  "objectType": "Rule",
  "properties": {
    "ruleId": "string",
    "ruleName": "string",
    "ruleType": "enum[evaluation, decision, calculation]",
    "ruleDescription": "string",
    "ruleLogic": "string",
    "parameters": "object",
    "createdBy": "string",
    "createdAt": "timestamp"
  },
  "linkTypes": [
    {
      "name": "appliesTo",
      "targetType": "Direction",
      "cardinality": "many-to-many"
    }
  ]
}
```

##### **OverviewSolution（概览方案）**
```json
{
  "objectType": "OverviewSolution",
  "properties": {
    "solutionId": "string",
    "demandSummary": "string",
    "directions": "array<directionId>",
    "recommendedDirection": "directionId",
    "comparisonAnalysis": "object",
    "generatedBy": "string",
    "generatedAt": "timestamp",
    "confirmedBy": "string",
    "confirmedAt": "timestamp"
  },
  "linkTypes": [
    {
      "name": "generatedFromDemand",
      "targetType": "Demand",
      "cardinality": "one-to-one"
    },
    {
      "name": "hasDirections",
      "targetType": "Direction",
      "cardinality": "one-to-many"
    }
  ]
}
```

#### 7.1.2 动作类型（Action Types）

##### **AnalyzeDemand（需求分析）**
```json
{
  "actionType": "AnalyzeDemand",
  "description": "分析客户需求，提取核心需求和痛点",
  "inputs": {
    "demand": "Demand"
  },
  "outputs": {
    "analyzedDemand": "Demand",
    "knowledgeGaps": "array<string>"
  },
  "logic": "通过AI分析需求描述，识别核心需求、痛点、预算、期望效果，并检测知识缺口"
}
```

##### **PlanTasks（任务规划）**
```json
{
  "actionType": "PlanTasks",
  "description": "根据需求特征，动态规划任务（固定任务+动态任务）",
  "inputs": {
    "demand": "Demand",
    "knowledgeGaps": "array<string>"
  },
  "outputs": {
    "tasks": "array<Task>"
  },
  "logic": "基于需求特征和知识缺口，生成固定任务（需求分析、方向识别、方向评估、概览方案生成）和动态任务（数据补充、案例验证等）"
}
```

##### **MineKnowledge（知识挖掘）**
```json
{
  "actionType": "MineKnowledge",
  "description": "通过结果式提问，挖掘完成任务所需的知识",
  "inputs": {
    "task": "Task",
    "currentKnowledge": "array<Knowledge>"
  },
  "outputs": {
    "questions": "array<string>",
    "answers": "array<string>",
    "newKnowledge": "array<Knowledge>"
  },
  "logic": "检测知识完整性，生成结果式提问，收集专家回答，沉淀为结构化知识"
}
```

##### **ProvideGuidance（智能引导）**
```json
{
  "actionType": "ProvideGuidance",
  "description": "在知识挖掘过程中或任务完成后，提供智能引导",
  "inputs": {
    "context": "string",
    "guidanceType": "enum[knowledge_mining, task_completion]"
  },
  "outputs": {
    "guidanceOptions": "array<object>"
  },
  "logic": "根据上下文，生成4个方向的引导（推荐答案、方法策略、邀请伙伴、自定义输入）或3个方向的引导（查看输出物、做下一个任务、调整输出物）"
}
```

##### **SearchCases（案例检索）**
```json
{
  "actionType": "SearchCases",
  "description": "联网检索相似案例，包括内部案例和外部厂商案例",
  "inputs": {
    "demand": "Demand",
    "direction": "Direction"
  },
  "outputs": {
    "cases": "array<Case>"
  },
  "logic": "基于需求特征和方向特征，联网检索相似案例，提取案例信息（厂商、联系方式、效果、投资等）"
}
```

##### **IdentifyDirections（方向识别）**
```json
{
  "actionType": "IdentifyDirections",
  "description": "基于需求和知识，识别1-3个客创方向",
  "inputs": {
    "demand": "Demand",
    "knowledge": "array<Knowledge>",
    "cases": "array<Case>"
  },
  "outputs": {
    "directions": "array<Direction>"
  },
  "logic": "综合需求、知识、案例，生成1-3个客创方向，每个方向包含核心价值、解决思路、投资收益估算"
}
```

##### **EvaluateDirection（方向评估）**
```json
{
  "actionType": "EvaluateDirection",
  "description": "根据评估规则，对客创方向进行评分和排序",
  "inputs": {
    "directions": "array<Direction>",
    "evaluationRules": "array<Rule>"
  },
  "outputs": {
    "scoredDirections": "array<Direction>",
    "recommendedDirection": "Direction"
  },
  "logic": "应用评估规则，对每个方向进行多维度评分，计算总分，推荐最优方向"
}
```

##### **GenerateOverviewSolution（概览方案生成）**
```json
{
  "actionType": "GenerateOverviewSolution",
  "description": "生成对内概览方案，包含需求概述、方向分析、对比分析、推荐建议",
  "inputs": {
    "demand": "Demand",
    "directions": "array<Direction>",
    "cases": "array<Case>",
    "knowledge": "array<Knowledge>"
  },
  "outputs": {
    "overviewSolution": "OverviewSolution"
  },
  "logic": "整合所有信息，生成结构化的对内概览方案"
}
```

##### **ConfirmDirection（客创方向确认）**
```json
{
  "actionType": "ConfirmDirection",
  "description": "用户确认选择的客创方向",
  "inputs": {
    "overviewSolution": "OverviewSolution",
    "selectedDirection": "Direction"
  },
  "outputs": {
    "confirmedDirection": "Direction"
  },
  "logic": "记录用户选择的方向，更新概览方案状态"
}
```

##### **DepositConfiguration（配置沉淀）**
```json
{
  "actionType": "DepositConfiguration",
  "description": "将0-1过程中的实例数据抽象为可复用的本体数据",
  "inputs": {
    "demand": "Demand",
    "tasks": "array<Task>",
    "knowledge": "array<Knowledge>",
    "cases": "array<Case>",
    "rules": "array<Rule>",
    "overviewSolution": "OverviewSolution"
  },
  "outputs": {
    "contentOntology": "ContentOntology",
    "subAgent": "SubAgent"
  },
  "logic": "从实例数据中抽象出可复用的内容本体数据，生成子Agent配置"
}
```

#### 7.1.3 函数（Functions）

##### **matchSimilarCases**
```json
{
  "function": "matchSimilarCases",
  "description": "匹配相似案例",
  "parameters": {
    "demand": "Demand",
    "threshold": "number"
  },
  "returns": "array<Case>",
  "logic": "基于需求特征（行业、痛点、规模、预算），计算与历史案例的相似度，返回相似度超过阈值的案例"
}
```

##### **calculateROI**
```json
{
  "function": "calculateROI",
  "description": "计算投资回报率",
  "parameters": {
    "investment": "number",
    "annualRevenue": "number"
  },
  "returns": "object{roi: number, roiPeriod: string}",
  "logic": "ROI = (年收益 / 投资) * 100%, ROI周期 = 投资 / 年收益（月）"
}
```

##### **scoreDirection**
```json
{
  "function": "scoreDirection",
  "description": "对客创方向进行评分",
  "parameters": {
    "direction": "Direction",
    "evaluationRules": "array<Rule>"
  },
  "returns": "number",
  "logic": "根据评估规则，对方向的多个维度进行评分，加权计算总分"
}
```

##### **detectKnowledgeGap**
```json
{
  "function": "detectKnowledgeGap",
  "description": "检测知识缺口",
  "parameters": {
    "task": "Task",
    "currentKnowledge": "array<Knowledge>"
  },
  "returns": "array<string>",
  "logic": "对比任务所需知识和当前已有知识，识别缺失的知识点"
}
```

##### **generateQuestions**
```json
{
  "function": "generateQuestions",
  "description": "生成结果式提问",
  "parameters": {
    "knowledgeGaps": "array<string>",
    "context": "object"
  },
  "returns": "array<string>",
  "logic": "基于知识缺口和上下文，生成结果式提问（带目的、带上下文）"
}
```

### 7.2 内容本体数据模型

内容本体数据定义了"做什么"的内容要求，包括基础配置和动态内容。

#### 7.2.1 基础配置（由二层产品经理配置）

##### **工作流程定义**
```json
{
  "workflow": {
    "workflowId": "overview_solution_generation",
    "workflowName": "概览方案生成工作流程",
    "phases": [
      {
        "phaseId": "phase_1",
        "phaseName": "需求理解",
        "fixedTasks": [
          {
            "taskId": "task_1_1",
            "taskName": "需求分析",
            "taskDescription": "分析客户需求，提取核心需求和痛点",
            "taskGoal": "明确客户的核心需求、痛点、预算、期望效果",
            "requiredKnowledge": ["客户背景", "行业特征", "痛点详情", "预算范围", "期望效果"],
            "outputFormat": "结构化需求文档"
          }
        ],
        "dynamicTaskRules": [
          {
            "condition": "需求信息不完整",
            "taskTemplate": {
              "taskName": "需求澄清",
              "taskDescription": "通过提问补充缺失的需求信息",
              "taskGoal": "获取完整的需求信息"
            }
          }
        ]
      },
      {
        "phaseId": "phase_2",
        "phaseName": "方向识别",
        "fixedTasks": [
          {
            "taskId": "task_2_1",
            "taskName": "案例检索",
            "taskDescription": "检索相似案例，包括内部案例和外部厂商案例",
            "taskGoal": "找到2-5个相似案例作为参考",
            "requiredKnowledge": ["行业案例", "技术方案", "投资收益数据"],
            "outputFormat": "案例清单"
          },
          {
            "taskId": "task_2_2",
            "taskName": "方向识别",
            "taskDescription": "基于需求和案例，识别1-3个客创方向",
            "taskGoal": "生成1-3个客创方向，每个方向包含核心价值、解决思路、投资收益估算",
            "requiredKnowledge": ["解决方案思路", "技术可行性", "投资估算", "收益预测"],
            "outputFormat": "客创方向清单"
          }
        ],
        "dynamicTaskRules": [
          {
            "condition": "找到高度相似案例",
            "taskTemplate": {
              "taskName": "案例验证",
              "taskDescription": "联系案例厂商，验证案例真实性和效果",
              "taskGoal": "确认案例的可信度"
            }
          }
        ]
      },
      {
        "phaseId": "phase_3",
        "phaseName": "方向评估",
        "fixedTasks": [
          {
            "taskId": "task_3_1",
            "taskName": "方向评估",
            "taskDescription": "根据评估规则，对客创方向进行评分和排序",
            "taskGoal": "为每个方向打分，推荐最优方向",
            "requiredKnowledge": ["评估标准", "权重设置", "评分依据"],
            "outputFormat": "方向评分表"
          }
        ]
      },
      {
        "phaseId": "phase_4",
        "phaseName": "方案生成",
        "fixedTasks": [
          {
            "taskId": "task_4_1",
            "taskName": "概览方案生成",
            "taskDescription": "生成对内概览方案",
            "taskGoal": "生成完整的对内概览方案，包含需求概述、方向分析、对比分析、推荐建议",
            "requiredKnowledge": ["所有前序任务的输出"],
            "outputFormat": "对内概览方案文档"
          }
        ]
      }
    ]
  }
}
```

##### **评估规则库**
```json
{
  "evaluationRules": [
    {
      "ruleId": "rule_1",
      "ruleName": "投入产出比评估",
      "ruleType": "calculation",
      "ruleDescription": "计算ROI，评估投入产出比",
      "ruleLogic": "ROI = (年收益 / 投资) * 100%",
      "weight": 0.3
    },
    {
      "ruleId": "rule_2",
      "ruleName": "实施难度评估",
      "ruleType": "evaluation",
      "ruleDescription": "评估实施难度（低、中、高）",
      "ruleLogic": "基于技术复杂度、资源需求、时间周期综合评估",
      "weight": 0.2
    },
    {
      "ruleId": "rule_3",
      "ruleName": "风险等级评估",
      "ruleType": "evaluation",
      "ruleDescription": "评估风险等级（低、中、高）",
      "ruleLogic": "基于技术风险、市场风险、资金风险综合评估",
      "weight": 0.2
    },
    {
      "ruleId": "rule_4",
      "ruleName": "案例支撑度评估",
      "ruleType": "evaluation",
      "ruleDescription": "评估案例支撑度（有多少相似案例）",
      "ruleLogic": "相似案例数量 * 案例相似度",
      "weight": 0.15
    },
    {
      "ruleId": "rule_5",
      "ruleName": "客户匹配度评估",
      "ruleType": "evaluation",
      "ruleDescription": "评估方向与客户需求的匹配度",
      "ruleLogic": "基于痛点覆盖度、预算匹配度、期望效果达成度综合评估",
      "weight": 0.15
    }
  ]
}
```

##### **通用知识库**
```json
{
  "generalKnowledge": [
    {
      "knowledgeId": "gk_1",
      "knowledgeType": "industry",
      "content": "纺织行业的主要痛点包括：一次成功率低、能耗高、人工成本高、质量不稳定",
      "source": "行业报告",
      "confidence": 0.9
    },
    {
      "knowledgeId": "gk_2",
      "knowledgeType": "technical",
      "content": "智能染色系统通常包括：AI配方优化、实时监控、数据分析三大模块",
      "source": "技术文档",
      "confidence": 0.95
    }
  ]
}
```

#### 7.2.2 动态内容（在0-1过程中沉淀）

##### **案例库**
```json
{
  "cases": [
    {
      "caseId": "case_1",
      "caseName": "XX纺织智能染色系统改造",
      "caseSource": "internal",
      "industry": "纺织",
      "scenario": "提升染色一次成功率",
      "solution": "部署AI智能染色系统，实时监控+AI配方优化",
      "investment": 500000,
      "revenue": 1500000,
      "effect": "一次成功率从70%提升到95%",
      "vendorName": "我们公司",
      "confirmedBy": "张三",
      "createdAt": "2025-12-01"
    },
    {
      "caseId": "case_2",
      "caseName": "YY印染数字化转型",
      "caseSource": "external",
      "industry": "纺织",
      "scenario": "降低生产成本",
      "solution": "ERP+MES+智能染色系统全面部署",
      "investment": 1500000,
      "revenue": 3000000,
      "effect": "生产成本降低20%，效率提升30%",
      "vendorName": "XX科技公司",
      "vendorContact": "李四 13800138000",
      "vendorWebsite": "https://www.xxtech.com",
      "confirmedBy": "张三",
      "createdAt": "2026-01-15"
    }
  ]
}
```

##### **知识库**
```json
{
  "knowledge": [
    {
      "knowledgeId": "k_1",
      "knowledgeType": "experience",
      "content": "对于年产值2亿以下的纺织企业，建议优先选择智能染色系统方向，投入产出比最高",
      "source": "专家经验",
      "confidence": 0.85,
      "createdBy": "张三",
      "createdAt": "2026-02-01"
    },
    {
      "knowledgeId": "k_2",
      "knowledgeType": "data",
      "content": "智能染色系统的平均投资为50-80万元，平均ROI周期为4-6个月",
      "source": "历史数据分析",
      "confidence": 0.9,
      "createdBy": "系统",
      "createdAt": "2026-02-10"
    }
  ]
}
```

##### **规则库**
```json
{
  "rules": [
    {
      "ruleId": "r_1",
      "ruleName": "纺织行业方向推荐规则",
      "ruleType": "decision",
      "ruleDescription": "根据企业规模和预算，推荐最优方向",
      "ruleLogic": "if (年产值 < 2亿 && 预算 < 100万) then 推荐智能染色系统方向",
      "createdBy": "张三",
      "createdAt": "2026-02-01"
    }
  ]
}
```

### 7.3 应用本体数据模型

应用本体数据定义了子Agent的交互和呈现要求。

#### 7.3.1 Object Views（对象视图）

##### **概览方案视图**
```json
{
  "viewId": "overview_solution_view",
  "viewName": "概览方案视图",
  "objectType": "OverviewSolution",
  "layout": {
    "sections": [
      {
        "sectionId": "section_1",
        "sectionName": "客户需求概述",
        "fields": ["customerName", "industry", "coreNeed", "painPoints", "budget", "expectedEffect"]
      },
      {
        "sectionId": "section_2",
        "sectionName": "客创方向分析",
        "fields": ["directions"],
        "displayMode": "cards"
      },
      {
        "sectionId": "section_3",
        "sectionName": "客创方向对比分析",
        "fields": ["comparisonAnalysis"],
        "displayMode": "table"
      },
      {
        "sectionId": "section_4",
        "sectionName": "推荐建议",
        "fields": ["recommendedDirection"]
      }
    ]
  }
}
```

##### **客创方向卡片视图**
```json
{
  "viewId": "direction_card_view",
  "viewName": "客创方向卡片视图",
  "objectType": "Direction",
  "layout": {
    "cardStyle": "compact",
    "fields": [
      {
        "fieldName": "directionName",
        "displayName": "方向名称",
        "position": "header"
      },
      {
        "fieldName": "coreValue",
        "displayName": "一句话价值",
        "position": "body"
      },
      {
        "fieldName": "estimatedInvestment",
        "displayName": "投入",
        "position": "body",
        "format": "{min}万-{max}万"
      },
      {
        "fieldName": "estimatedRevenue",
        "displayName": "收益",
        "position": "body",
        "format": "{min}万-{max}万/年"
      },
      {
        "fieldName": "roiPeriod",
        "displayName": "ROI周期",
        "position": "body"
      },
      {
        "fieldName": "score",
        "displayName": "推荐指数",
        "position": "footer",
        "format": "⭐ x {score}/5"
      }
    ],
    "actions": [
      {
        "actionName": "查看详情",
        "actionType": "navigate",
        "target": "direction_detail_page"
      },
      {
        "actionName": "选择此方向",
        "actionType": "confirm",
        "target": "ConfirmDirection"
      }
    ]
  }
}
```

##### **任务卡片视图**
```json
{
  "viewId": "task_card_view",
  "viewName": "任务卡片视图",
  "objectType": "Task",
  "layout": {
    "cardStyle": "detailed",
    "fields": [
      {
        "fieldName": "taskName",
        "displayName": "任务名称",
        "position": "header"
      },
      {
        "fieldName": "taskDescription",
        "displayName": "任务描述",
        "position": "body"
      },
      {
        "fieldName": "taskGoal",
        "displayName": "任务目标",
        "position": "body"
      },
      {
        "fieldName": "status",
        "displayName": "状态",
        "position": "footer",
        "format": "badge"
      },
      {
        "fieldName": "dependencies",
        "displayName": "前置任务",
        "position": "footer",
        "format": "list"
      }
    ],
    "actions": [
      {
        "actionName": "执行任务",
        "actionType": "execute",
        "target": "task_execution_page",
        "enableCondition": "status == 'pending' && dependencies.allCompleted"
      },
      {
        "actionName": "邀请协作",
        "actionType": "invite",
        "target": "invite_dialog",
        "enableCondition": "status == 'pending'"
      }
    ]
  }
}
```

#### 7.3.2 Interaction Patterns（交互模式）

##### **CUI对话模式**
```json
{
  "patternId": "cui_dialogue_pattern",
  "patternName": "CUI对话模式",
  "description": "定义AI与用户的对话交互模式",
  "phases": [
    {
      "phaseName": "任务开始",
      "aiMessage": "您好！我是概览方案生成助手。我将协助您完成【{taskName}】任务。\n\n任务目标：{taskGoal}\n\n让我们开始吧！",
      "userActions": ["开始任务", "查看任务详情"]
    },
    {
      "phaseName": "知识挖掘",
      "aiMessage": "为了{purpose}，我需要了解以下信息：\n\n{question}\n\n这些信息将用于{usage}。",
      "userActions": ["回答问题", "查看推荐答案", "查看方法策略", "邀请专家", "自定义输入"]
    },
    {
      "phaseName": "任务完成",
      "aiMessage": "太好了！【{taskName}】任务已完成。\n\n输出物：{output}\n\n接下来您可以：",
      "userActions": ["查看输出物", "做下一个任务", "调整输出物"]
    }
  ]
}
```

##### **智能引导模式**
```json
{
  "patternId": "smart_guidance_pattern",
  "patternName": "智能引导模式",
  "description": "定义智能引导的交互模式",
  "guidanceTypes": [
    {
      "guidanceType": "knowledge_mining",
      "guidanceOptions": [
        {
          "optionName": "推荐答案",
          "optionDescription": "AI基于历史数据和知识库，推荐答案",
          "displayFormat": "card"
        },
        {
          "optionName": "方法策略",
          "optionDescription": "AI提供获取答案的方法和策略",
          "displayFormat": "list"
        },
        {
          "optionName": "邀请伙伴",
          "optionDescription": "邀请专业领域伙伴来协助回答",
          "displayFormat": "button"
        },
        {
          "optionName": "自定义输入",
          "optionDescription": "用户自己输入答案",
          "displayFormat": "textarea"
        }
      ]
    },
    {
      "guidanceType": "task_completion",
      "guidanceOptions": [
        {
          "optionName": "查看输出物",
          "optionDescription": "查看和确认当前任务的输出物",
          "displayFormat": "link"
        },
        {
          "optionName": "做下一个任务",
          "optionDescription": "继续执行下一个任务",
          "displayFormat": "button"
        },
        {
          "optionName": "调整输出物",
          "optionDescription": "对当前输出物进行调整和优化",
          "displayFormat": "button"
        }
      ]
    }
  ]
}
```

##### **任务执行模式**
```json
{
  "patternId": "task_execution_pattern",
  "patternName": "任务执行模式",
  "description": "定义任务执行的交互模式",
  "steps": [
    {
      "stepName": "任务启动",
      "aiAction": "展示任务信息（任务名称、描述、目标、所需知识）",
      "userAction": "确认开始任务"
    },
    {
      "stepName": "知识检测",
      "aiAction": "检测知识缺口，生成结果式提问",
      "userAction": "回答问题或选择智能引导"
    },
    {
      "stepName": "任务执行",
      "aiAction": "基于收集的知识，执行任务（调用相应的Action Type）",
      "userAction": "查看执行过程和中间结果"
    },
    {
      "stepName": "结果确认",
      "aiAction": "展示任务输出物，提供智能引导",
      "userAction": "确认输出物或调整输出物"
    },
    {
      "stepName": "任务完成",
      "aiAction": "标记任务为已完成，解锁后续任务",
      "userAction": "选择下一步行动"
    }
  ]
}
```

### 7.4 数据关系图

以下是三类本体数据之间的关系图：

```
┌─────────────────────────────────────────────────────────────┐
│                      思考本体数据                             │
│  (定义"如何做"的方法论，相对稳定，通用于所有0-1过程)           │
│                                                               │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐    │
│  │ Object   │  │ Action   │  │ Function │  │ Workflow │    │
│  │ Types    │  │ Types    │  │          │  │          │    │
│  └──────────┘  └──────────┘  └──────────┘  └──────────┘    │
└─────────────────────────────────────────────────────────────┘
                            ↓ 指导
┌─────────────────────────────────────────────────────────────┐
│                      内容本体数据                             │
│  (定义"做什么"的内容要求，包括基础配置和动态内容)              │
│                                                               │
│  ┌─────────────────┐         ┌─────────────────┐            │
│  │   基础配置       │         │   动态内容       │            │
│  │ (二层PM配置)     │         │ (0-1过程沉淀)    │            │
│  │                 │         │                 │            │
│  │ • 工作流程定义   │         │ • 案例库         │            │
│  │ • 任务模板       │         │ • 知识库         │            │
│  │ • 评估规则       │         │ • 规则库         │            │
│  │ • 通用知识库     │         │ • 数据库         │            │
│  └─────────────────┘         └─────────────────┘            │
└─────────────────────────────────────────────────────────────┘
                            ↓ 驱动
┌─────────────────────────────────────────────────────────────┐
│                      应用本体数据                             │
│  (定义子Agent的交互和呈现要求)                                │
│                                                               │
│  ┌──────────────┐         ┌──────────────┐                  │
│  │ Object Views │         │ Interaction  │                  │
│  │              │         │ Patterns     │                  │
│  │ • 概览方案视图│         │ • CUI对话模式 │                  │
│  │ • 方向卡片视图│         │ • 智能引导模式│                  │
│  │ • 任务卡片视图│         │ • 任务执行模式│                  │
│  └──────────────┘         └──────────────┘                  │
└─────────────────────────────────────────────────────────────┘
                            ↓ 生成
┌─────────────────────────────────────────────────────────────┐
│                      子Agent                                  │
│  (通过Claude Code生成的AI原生应用)                            │
│                                                               │
│  ┌──────────────┐         ┌──────────────┐                  │
│  │ CUI对话窗口   │         │ GUI页面       │                  │
│  │              │         │              │                  │
│  │ • 加载特定领域│         │ • 任务管理页面│                  │
│  │   的对话模板  │         │ • 概览方案展示│                  │
│  │ • 智能引导    │         │ • 方向卡片展示│                  │
│  └──────────────┘         └──────────────┘                  │
└─────────────────────────────────────────────────────────────┘
```

---

## 八、界面设计

本章详细定义了概览方案生成产品的界面设计，包括CUI对话窗口和GUI页面。

### 8.1 设计原则

1. **对话式优先**：以CUI对话窗口为主要交互界面，GUI页面作为辅助
2. **渐进式展示**：信息按需展示，避免一次性展示过多信息
3. **智能引导**：在关键决策点提供智能引导，降低用户认知负担
4. **透明可控**：让用户看到AI的思考过程和决策依据，可以随时干预和调整
5. **反馈及时**：每个操作都有明确的反馈，让用户知道系统在做什么

### 8.2 CUI对话窗口设计

#### 8.2.1 整体布局

```
┌─────────────────────────────────────────────────────────┐
│  概览方案生成助手                            [最小化] [关闭]│
├─────────────────────────────────────────────────────────┤
│                                                           │
│  [AI消息]                                                 │
│  您好！我是概览方案生成助手。我将协助您完成概览方案生成。  │
│  首先，让我了解一下客户的需求...                          │
│                                                           │
│  [用户消息]                                               │
│  客户是巨赢纺织，主要痛点是染色一次成功率只有70%...        │
│                                                           │
│  [AI消息 + 任务卡片]                                      │
│  明白了！我已经为您规划了4个任务：                         │
│  ┌─────────────────────────────────────────────┐        │
│  │ 任务1：需求分析                    [执行任务]│        │
│  │ 目标：明确客户的核心需求和痛点              │        │
│  │ 状态：待执行                                │        │
│  └─────────────────────────────────────────────┘        │
│  ┌─────────────────────────────────────────────┐        │
│  │ 任务2：案例检索                    [执行任务]│        │
│  │ 目标：找到2-5个相似案例作为参考            │        │
│  │ 状态：待执行（依赖任务1）                   │        │
│  └─────────────────────────────────────────────┘        │
│  ...                                                      │
│                                                           │
│  [智能引导]                                               │
│  接下来您可以：                                           │
│  [开始执行任务1] [查看任务管理页面] [调整任务规划]        │
│                                                           │
├─────────────────────────────────────────────────────────┤
│  [输入框]                                      [发送]     │
└─────────────────────────────────────────────────────────┘
```

#### 8.2.2 关键交互场景

##### **场景1：任务规划**

```
[AI消息]
我已经分析了您的需求，为您规划了以下任务：

固定任务：
1. 需求分析 - 明确客户的核心需求和痛点
2. 案例检索 - 找到2-5个相似案例作为参考
3. 方向识别 - 识别1-3个客创方向
4. 方向评估 - 对方向进行评分和排序
5. 概览方案生成 - 生成对内概览方案

动态任务（根据需求特征生成）：
6. 数据补充 - 补充缺失的需求信息（因为预算信息不完整）

任务依赖关系：
任务2依赖任务1 → 任务3依赖任务2 → 任务4依赖任务3 → 任务5依赖任务4
任务6可以随时执行

[智能引导]
接下来您可以：
[开始执行任务1] [查看任务管理页面] [调整任务规划]
```

##### **场景2：知识挖掘（结果式提问）**

```
[AI消息]
现在我正在执行【任务1：需求分析】。

为了明确客户的核心需求，我需要了解以下信息：

问题1：客户目前的染色一次成功率是多少？
• 为什么需要这个信息：这是评估改进空间的基础数据
• 用途：用于计算投资回报率和确定技术方案

问题2：客户的年返工成本大约是多少？
• 为什么需要这个信息：这是计算收益的关键数据
• 用途：用于评估方案的经济价值

问题3：客户的预算范围是多少？
• 为什么需要这个信息：这决定了我们可以推荐的方案类型
• 用途：用于筛选合适的技术方案

[智能引导]
您可以选择：
[查看推荐答案] [查看获取方法] [邀请专家] [自己输入]
```

##### **场景3：智能引导（推荐答案）**

```
[用户操作]
点击"查看推荐答案"

[AI消息]
基于历史数据和行业经验，我为您推荐以下答案：

问题1：客户目前的染色一次成功率是多少？
推荐答案：70%
依据：
• 您在需求描述中提到"一次成功率只有70%"
• 这与纺织行业的平均水平（65-75%）相符
置信度：★★★★☆ (85%)

问题2：客户的年返工成本大约是多少？
推荐答案：150-200万元
依据：
• 根据行业数据，年产值2亿的纺织企业，返工成本通常占年产值的0.75-1%
• 一次成功率70%意味着30%需要返工，按此比例计算约150-200万元
置信度：★★★☆☆ (70%)

问题3：客户的预算范围是多少？
推荐答案：50-150万元
依据：
• 根据历史案例，类似规模企业的数字化改造预算通常在50-150万元
• 这个预算范围可以覆盖智能染色系统到综合数字化方案
置信度：★★★☆☆ (65%)

[智能引导]
您可以选择：
[采用推荐答案] [修改答案] [查看获取方法] [邀请专家]
```

##### **场景4：任务完成后的智能引导**

```
[AI消息]
太好了！【任务1：需求分析】已完成。

输出物：
┌─────────────────────────────────────────────┐
│ 需求分析报告                                 │
│                                             │
│ 客户名称：巨赢纺织有限公司                   │
│ 核心需求：提升染色一次成功率                 │
│ 当前痛点：                                   │
│ • 一次成功率仅70%，年返工成本约200万元       │
│ • 配方依赖人工经验，质量不稳定               │
│ • 问题发现滞后，无法及时调整                 │
│ 预算范围：50-150万元                         │
│ 期望效果：一次成功率提升到90%以上            │
└─────────────────────────────────────────────┘

[智能引导]
接下来您可以：
[查看完整报告] [开始任务2：案例检索] [调整需求分析]
```

##### **场景5：方向卡片展示**

```
[AI消息]
太好了！我已经为您识别了3个客创方向：

┌─────────────────────────────────────────────┐
│ 方向1：智能染色系统方向 ⭐⭐⭐⭐⭐ (推荐)      │
│                                             │
│ 一句话价值：AI优化配方，成功率提升至95%      │
│ 投入：50万 | 收益：150万/年 | ROI：4个月    │
│ 适合：预算50-80万，追求快速见效             │
│ 风险：中等（技术风险）                       │
│                                             │
│ [查看详情] [选择此方向]                      │
└─────────────────────────────────────────────┘

┌─────────────────────────────────────────────┐
│ 方向2：供应链优化方向 ⭐⭐⭐                  │
│                                             │
│ 一句话价值：优化采购，降低染料成本15%        │
│ 投入：20万 | 收益：80万/年 | ROI：3个月     │
│ 适合：预算有限，追求低风险                   │
│ 风险：低（实施简单）                         │
│                                             │
│ [查看详情] [选择此方向]                      │
└─────────────────────────────────────────────┘

┌─────────────────────────────────────────────┐
│ 方向3：综合数字化方向 ⭐⭐⭐⭐                │
│                                             │
│ 一句话价值：全面数字化，整体效率提升30%      │
│ 投入：150万 | 收益：300万/年 | ROI：6个月   │
│ 适合：预算充足，追求长期价值                 │
│ 风险：高（复杂度高）                         │
│                                             │
│ [查看详情] [选择此方向]                      │
└─────────────────────────────────────────────┘

[智能引导]
您可以：
[查看对比分析] [查看完整概览方案] [调整方向]
```

### 8.3 GUI页面设计

#### 8.3.1 任务管理页面

```
┌─────────────────────────────────────────────────────────┐
│  任务管理                                    [返回对话]   │
├─────────────────────────────────────────────────────────┤
│                                                           │
│  需求：巨赢纺织染色一次成功率提升                          │
│  状态：进行中 | 已完成：2/6 | 进度：33%                   │
│                                                           │
│  ┌─────────────────────────────────────────────────┐    │
│  │ 任务依赖关系图                                   │    │
│  │                                                 │    │
│  │  [任务1]──→[任务2]──→[任务3]──→[任务4]──→[任务5]│    │
│  │    ✓         ✓        进行中      待执行    待执行│    │
│  │                                                 │    │
│  │  [任务6]（独立任务）                             │    │
│  │    待执行                                        │    │
│  └─────────────────────────────────────────────────┘    │
│                                                           │
│  任务列表：                                               │
│                                                           │
│  ┌─────────────────────────────────────────────────┐    │
│  │ ✓ 任务1：需求分析                                │    │
│  │   状态：已完成                                   │    │
│  │   完成时间：2026-02-22 10:30                     │    │
│  │   输出物：需求分析报告                           │    │
│  │   [查看详情]                                     │    │
│  └─────────────────────────────────────────────────┘    │
│                                                           │
│  ┌─────────────────────────────────────────────────┐    │
│  │ ✓ 任务2：案例检索                                │    │
│  │   状态：已完成                                   │    │
│  │   完成时间：2026-02-22 11:00                     │    │
│  │   输出物：案例清单（5个案例）                    │    │
│  │   [查看详情]                                     │    │
│  └─────────────────────────────────────────────────┘    │
│                                                           │
│  ┌─────────────────────────────────────────────────┐    │
│  │ ⏳ 任务3：方向识别                               │    │
│  │   状态：进行中                                   │    │
│  │   开始时间：2026-02-22 11:15                     │    │
│  │   进度：60%                                      │    │
│  │   [查看进度]                                     │    │
│  └─────────────────────────────────────────────────┘    │
│                                                           │
│  ┌─────────────────────────────────────────────────┐    │
│  │ 🔒 任务4：方向评估                               │    │
│  │   状态：阻塞中（等待任务3完成）                  │    │
│  │   前置任务：任务3                                │    │
│  │   [执行任务] [邀请协作] (禁用)                   │    │
│  └─────────────────────────────────────────────────┘    │
│                                                           │
└─────────────────────────────────────────────────────────┘
```

#### 8.3.2 概览方案展示页面

```
┌─────────────────────────────────────────────────────────┐
│  概览方案：巨赢纺织染色一次成功率提升方案    [导出] [分享]│
├─────────────────────────────────────────────────────────┤
│                                                           │
│  一、客户需求概述                                         │
│  ┌─────────────────────────────────────────────────┐    │
│  │ 客户名称：巨赢纺织有限公司                       │    │
│  │ 所属行业：纺织印染                               │    │
│  │ 企业规模：年产值2亿元，员工300人                 │    │
│  │ 核心需求：提升染色一次成功率，降低返工成本       │    │
│  │ 当前痛点：                                       │    │
│  │ • 一次成功率仅70%，年返工成本约200万元           │    │
│  │ • 配方依赖人工经验，质量不稳定                   │    │
│  │ • 问题发现滞后，无法及时调整                     │    │
│  │ 预算范围：50-150万元                             │    │
│  │ 期望效果：一次成功率提升到90%以上                │    │
│  └─────────────────────────────────────────────────┘    │
│                                                           │
│  二、客创方向分析                                         │
│  ┌─────────────────────────────────────────────────┐    │
│  │ 方向1：智能染色系统方向 ⭐⭐⭐⭐⭐ (推荐)          │    │
│  │                                                 │    │
│  │ 核心价值：通过AI优化染色配方，提升一次成功率至95%│    │
│  │ 解决思路：部署智能染色系统，实时监控+AI配方优化  │    │
│  │ 投资与收益：                                     │    │
│  │ • 预估投资：50万元（±10万）                     │    │
│  │ • 预期收益：150万元/年（±20万）                 │    │
│  │ • ROI周期：4个月                                │    │
│  │ 案例支撑：                                       │    │
│  │ • XX纺织智能染色系统改造（我们公司）             │    │
│  │   投资50万，年收益150万，成功率提升至95%         │    │
│  │ • YY印染智能化升级（ZZ科技，联系方式：...）      │    │
│  │   投资60万，年收益180万，成功率提升至93%         │    │
│  │ 风险与不确定性：                                 │    │
│  │ • 数据质量影响AI效果（中等风险）                 │    │
│  │ • 设备兼容性可能增加集成成本（低风险）           │    │
│  │ [展开详情] [选择此方向]                          │    │
│  └─────────────────────────────────────────────────┘    │
│                                                           │
│  ┌─────────────────────────────────────────────────┐    │
│  │ 方向2：供应链优化方向 ⭐⭐⭐                      │    │
│  │ ...                                             │    │
│  └─────────────────────────────────────────────────┘    │
│                                                           │
│  三、客创方向对比分析                                     │
│  ┌─────────────────────────────────────────────────┐    │
│  │ 对比维度 │ 智能染色系统 │ 供应链优化 │ 综合数字化 │    │
│  │─────────┼─────────────┼───────────┼───────────│    │
│  │ 投入成本 │ 50万         │ 20万       │ 150万      │    │
│  │ 预期收益 │ 150万/年     │ 80万/年    │ 300万/年   │    │
│  │ ROI周期  │ 4个月        │ 3个月      │ 6个月      │    │
│  │ 实施难度 │ 中           │ 低         │ 高         │    │
│  │ 风险等级 │ 中           │ 低         │ 高         │    │
│  │ 推荐指数 │ ⭐⭐⭐⭐⭐    │ ⭐⭐⭐     │ ⭐⭐⭐⭐   │    │
│  └─────────────────────────────────────────────────┘    │
│                                                           │
│  四、推荐建议                                             │
│  ┌─────────────────────────────────────────────────┐    │
│  │ 基于巨赢纺织当前的痛点和预算情况，我们推荐选择   │    │
│  │ **智能染色系统方向**，理由如下：                 │    │
│  │                                                 │    │
│  │ 1. 直击核心痛点：直接解决染色一次成功率问题     │    │
│  │ 2. 投入产出比高：投入50万，预期年收益150万      │    │
│  │ 3. 实施风险可控：技术成熟，已有多个成功案例     │    │
│  │ 4. 可扩展性强：未来可以在此基础上扩展           │    │
│  └─────────────────────────────────────────────────┘    │
│                                                           │
│  [确认选择方向1] [重新评估] [返回对话]                    │
│                                                           │
└─────────────────────────────────────────────────────────┘
```

#### 8.3.3 配置沉淀引导页面

```
┌─────────────────────────────────────────────────────────┐
│  智能能力沉淀                                 [跳过] [关闭]│
├─────────────────────────────────────────────────────────┤
│                                                           │
│  🎉 恭喜！您已经完成了概览方案生成。                      │
│                                                           │
│  我注意到您在这个过程中沉淀了很多宝贵的经验和知识：       │
│  • 纺织行业染色一次成功率提升的3个解决方向               │
│  • 5个相似案例（包括2个外部厂商案例）                     │
│  • 纺织行业的评估规则和决策经验                           │
│  • 投资收益的计算方法和数据                               │
│                                                           │
│  💡 是否将这些经验沉淀为可复用的智能能力？                │
│                                                           │
│  沉淀后的效果：                                           │
│  • 下次遇到类似需求（纺织行业染色问题），可以快速生成方案 │
│  • 一线业务人员可以直接使用，无需专家参与                 │
│  • 随着使用次数增加，智能能力会不断优化                   │
│                                                           │
│  ┌─────────────────────────────────────────────────┐    │
│  │ 智能能力配置预览                                 │    │
│  │                                                 │    │
│  │ 能力名称：纺织染色一次成功率提升方案生成         │    │
│  │ 适用场景：纺织行业，染色质量问题                 │    │
│  │ 匹配条件：                                       │    │
│  │ • 行业 = 纺织                                   │    │
│  │ • 痛点类型 = 染色一次成功率低                   │    │
│  │ • 企业规模 = 年产值1-5亿                        │    │
│  │                                                 │    │
│  │ 沉淀内容：                                       │    │
│  │ • 案例库：5个案例                               │    │
│  │ • 知识库：12条知识                              │    │
│  │ • 规则库：8条规则                               │    │
│  │ • 任务模板：6个任务                             │    │
│  │                                                 │    │
│  │ [查看详细配置]                                   │    │
│  └─────────────────────────────────────────────────┘    │
│                                                           │
│  [开始沉淀] [稍后再说] [不需要]                           │
│                                                           │
└─────────────────────────────────────────────────────────┘
```

#### 8.3.4 子Agent管理页面

```
┌─────────────────────────────────────────────────────────┐
│  我的智能能力                           [创建新能力]       │
├─────────────────────────────────────────────────────────┤
│                                                           │
│  筛选：[全部] [概览方案生成] [详细方案生成] [其他]        │
│  排序：[最近使用] [使用次数] [创建时间]                   │
│                                                           │
│  ┌─────────────────────────────────────────────────┐    │
│  │ 纺织染色一次成功率提升方案生成                   │    │
│  │                                                 │    │
│  │ 类型：概览方案生成                               │    │
│  │ 创建时间：2026-02-22                             │    │
│  │ 使用次数：5次                                   │    │
│  │ 最近使用：2026-02-25                             │    │
│  │                                                 │    │
│  │ 适用场景：纺织行业，染色质量问题                 │    │
│  │ 匹配条件：行业=纺织 + 痛点=染色成功率低          │    │
│  │                                                 │    │
│  │ 沉淀内容：                                       │    │
│  │ • 案例库：5个案例                               │    │
│  │ • 知识库：12条知识                              │    │
│  │ • 规则库：8条规则                               │    │
│  │ • 任务模板：6个任务                             │    │
│  │                                                 │    │
│  │ [使用此能力] [查看详情] [编辑] [删除]            │    │
│  └─────────────────────────────────────────────────┘    │
│                                                           │
│  ┌─────────────────────────────────────────────────┐    │
│  │ 机械制造设备维护方案生成                         │    │
│  │                                                 │    │
│  │ 类型：概览方案生成                               │    │
│  │ 创建时间：2026-02-20                             │    │
│  │ 使用次数：3次                                   │    │
│  │ 最近使用：2026-02-23                             │    │
│  │                                                 │    │
│  │ 适用场景：机械制造行业，设备维护问题             │    │
│  │ 匹配条件：行业=机械制造 + 痛点=设备故障率高      │    │
│  │                                                 │    │
│  │ [使用此能力] [查看详情] [编辑] [删除]            │    │
│  └─────────────────────────────────────────────────┘    │
│                                                           │
└─────────────────────────────────────────────────────────┘
```

### 8.4 响应式设计

所有界面都需要支持响应式设计，适配不同设备：

- **桌面端**：完整功能，多列布局
- **平板端**：简化布局，保留核心功能
- **移动端**：单列布局，优先展示关键信息

### 8.5 无障碍设计

- **键盘导航**：所有功能都可以通过键盘操作
- **屏幕阅读器支持**：所有元素都有清晰的标签和描述
- **颜色对比度**：确保文字和背景的对比度符合WCAG标准
- **字体大小**：支持用户自定义字体大小



---

## 九、实施计划

### 9.1 阶段1开发计划

#### 9.1.1 开发目标

**核心目标**：
- 实现完整的0-1 → 1-1' → 2-N流程
- 交付通用概览方案生成Agent
- 实现本体数据底座的基础架构
- 实现子Agent的生成和调用机制

**交付物**：
- 通用概览方案生成Agent（CUI + GUI）
- 本体数据底座（三类本体数据的存储和管理）
- 子Agent生成工具（基于Claude Code）
- 子Agent调用平台（匹配和加载机制）

#### 9.1.2 开发阶段

**第一阶段：基础架构搭建（2周）**

| 模块 | 功能 | 交付物 |
|------|------|--------|
| **本体数据底座** | 图数据库搭建、三类本体数据结构设计 | 本体数据库Schema |
| **通用Agent框架** | Claude Agent SDK集成、基础对话能力 | Agent框架代码 |
| **CUI对话窗口** | 基础对话界面、消息展示 | CUI界面原型 |
| **GUI页面框架** | 任务管理页面、方案展示页面框架 | GUI页面框架 |

**第二阶段：核心功能开发（4周）**

| 模块 | 功能 | 交付物 |
|------|------|--------|
| **任务规划** | 固定任务+动态任务规划、任务依赖管理 | 任务规划引擎 |
| **知识挖掘** | 结果式提问、多轮对话、知识完整性检测 | 知识挖掘引擎 |
| **智能引导** | 4个方向引导、推荐答案生成 | 智能引导引擎 |
| **案例检索** | 联网检索、案例匹配、案例展示 | 案例检索引擎 |
| **知识沉淀** | 实时记录、结构化存储 | 知识沉淀引擎 |
| **方案生成** | 对内概览方案生成、客创方向卡片生成 | 方案生成引擎 |

**第三阶段：本体沉淀与子Agent生成（3周）**

| 模块 | 功能 | 交付物 |
|------|------|--------|
| **本体沉淀** | 实例数据抽象、本体数据生成 | 本体沉淀引擎 |
| **子Agent生成** | 基于Claude Code生成子Agent | 子Agent生成工具 |
| **子Agent部署** | 子Agent部署、版本管理 | 子Agent部署平台 |
| **子Agent调用** | 需求匹配、子Agent加载 | 子Agent调用引擎 |

**第四阶段：测试与优化（2周）**

| 模块 | 功能 | 交付物 |
|------|------|--------|
| **功能测试** | 完整流程测试、边界情况测试 | 测试报告 |
| **性能优化** | 响应速度优化、本体查询优化 | 性能优化报告 |
| **用户体验优化** | 界面优化、交互优化 | UX优化报告 |
| **文档编写** | 用户手册、配置指南 | 产品文档 |

#### 9.1.3 开发里程碑

| 里程碑 | 时间 | 交付物 | 验收标准 |
|--------|------|--------|---------|
| **M1：基础架构完成** | 第2周 | 本体数据库、Agent框架、界面框架 | 可以创建本体数据、可以进行基础对话 |
| **M2：核心功能完成** | 第6周 | 任务规划、知识挖掘、智能引导、方案生成 | 可以完成完整的0-1过程 |
| **M3：本体沉淀完成** | 第9周 | 本体沉淀、子Agent生成、子Agent调用 | 可以完成完整的1-1' → 2-N流程 |
| **M4：产品发布** | 第11周 | 完整产品、用户文档 | 通过功能测试、性能测试、用户验收 |

### 9.2 技术架构

#### 9.2.1 技术栈

**前端技术**：
- React 19 + TypeScript
- Tailwind CSS 4
- Wouter（路由）
- shadcn/ui（组件库）

**后端技术**：
- Node.js + Express
- Claude Agent SDK（Agent框架）
- Neo4j（图数据库，存储本体数据）
- PostgreSQL（关系数据库，存储用户数据、任务数据）

**AI能力**：
- Claude 3.5 Sonnet（对话和推理）
- Claude Code（子Agent生成）
- Embedding模型（案例匹配、需求匹配）

**部署架构**：
- Docker容器化部署
- Kubernetes集群管理
- Nginx负载均衡

#### 9.2.2 系统架构图

```
┌─────────────────────────────────────────────────────────────┐
│                         用户层                               │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐      │
│  │ CUI对话窗口  │  │ GUI任务管理  │  │ GUI方案展示  │      │
│  └──────────────┘  └──────────────┘  └──────────────┘      │
└─────────────────────────────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────────┐
│                      应用层                                  │
│  ┌────────────────────────────────────────────────────┐     │
│  │         通用概览方案生成Agent                       │     │
│  │  ┌──────────┐ ┌──────────┐ ┌──────────┐           │     │
│  │  │任务规划  │ │知识挖掘  │ │智能引导  │           │     │
│  │  └──────────┘ └──────────┘ └──────────┘           │     │
│  │  ┌──────────┐ ┌──────────┐ ┌──────────┐           │     │
│  │  │案例检索  │ │知识沉淀  │ │方案生成  │           │     │
│  │  └──────────┘ └──────────┘ └──────────┘           │     │
│  └────────────────────────────────────────────────────┘     │
│                            ↓                                 │
│  ┌────────────────────────────────────────────────────┐     │
│  │         子Agent生成与调用平台                       │     │
│  │  ┌──────────┐ ┌──────────┐ ┌──────────┐           │     │
│  │  │本体沉淀  │ │Agent生成 │ │Agent调用 │           │     │
│  │  └──────────┘ └──────────┘ └──────────┘           │     │
│  └────────────────────────────────────────────────────┘     │
└─────────────────────────────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────────┐
│                      数据层                                  │
│  ┌────────────────────────────────────────────────────┐     │
│  │              本体数据底座（Neo4j）                  │     │
│  │  ┌──────────┐ ┌──────────┐ ┌──────────┐           │     │
│  │  │思考本体  │ │内容本体  │ │应用本体  │           │     │
│  │  └──────────┘ └──────────┘ └──────────┘           │     │
│  └────────────────────────────────────────────────────┘     │
│  ┌────────────────────────────────────────────────────┐     │
│  │           业务数据库（PostgreSQL）                  │     │
│  │  ┌──────────┐ ┌──────────┐ ┌──────────┐           │     │
│  │  │用户数据  │ │任务数据  │ │方案数据  │           │     │
│  │  └──────────┘ └──────────┘ └──────────┘           │     │
│  └────────────────────────────────────────────────────┘     │
└─────────────────────────────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────────┐
│                      AI能力层                                │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐      │
│  │ Claude 3.5   │  │ Claude Code  │  │ Embedding    │      │
│  │ Sonnet       │  │              │  │ 模型         │      │
│  └──────────────┘  └──────────────┘  └──────────────┘      │
└─────────────────────────────────────────────────────────────┘
```

### 9.3 风险与应对

#### 9.3.1 技术风险

| 风险 | 影响 | 概率 | 应对措施 |
|------|------|------|---------|
| **Claude Agent SDK不稳定** | 高 | 中 | 提前进行技术验证，准备备用方案 |
| **Neo4j性能问题** | 中 | 低 | 进行性能测试，优化查询语句 |
| **子Agent生成质量不稳定** | 高 | 中 | 建立质量评估机制，人工审核 |
| **本体数据结构设计不合理** | 高 | 中 | 提前进行详细设计，多轮评审 |

#### 9.3.2 业务风险

| 风险 | 影响 | 概率 | 应对措施 |
|------|------|------|---------|
| **业务专家不愿意沉淀经验** | 高 | 中 | 设计激励机制，降低沉淀成本 |
| **沉淀的经验质量不高** | 中 | 中 | 建立质量评估机制，专家审核 |
| **子Agent匹配不准确** | 中 | 中 | 优化匹配算法，提供人工干预 |
| **用户学习成本高** | 中 | 低 | 提供详细文档，进行用户培训 |

#### 9.3.3 项目风险

| 风险 | 影响 | 概率 | 应对措施 |
|------|------|------|---------|
| **开发周期延期** | 中 | 中 | 预留缓冲时间，及时调整计划 |
| **需求变更频繁** | 中 | 中 | 建立需求变更管理机制 |
| **团队人员不足** | 高 | 低 | 提前储备人员，外部协作 |
| **测试不充分** | 高 | 低 | 预留充足测试时间，自动化测试 |

### 9.4 成功标准

#### 9.4.1 功能完整性

- ✅ 可以完成完整的0-1过程（从需求到概览方案）
- ✅ 可以完成完整的1-1'过程（从实例数据到本体数据）
- ✅ 可以完成完整的2-N过程（从本体数据到子Agent）
- ✅ 子Agent可以被一线业务人员使用，快速生成概览方案

#### 9.4.2 性能指标

- **响应速度**：对话响应时间 < 3秒
- **任务规划速度**：任务规划时间 < 10秒
- **方案生成速度**：概览方案生成时间 < 30秒
- **子Agent生成速度**：子Agent生成时间 < 5分钟
- **子Agent匹配速度**：需求匹配时间 < 5秒

#### 9.4.3 质量指标

- **任务规划准确率**：> 90%（专家评估）
- **知识挖掘完整性**：> 85%（专家评估）
- **方案生成质量**：> 80%（客户满意度）
- **子Agent匹配准确率**：> 85%（实际使用反馈）
- **本体数据质量**：> 90%（专家审核通过率）

#### 9.4.4 用户体验指标

- **用户学习成本**：< 1小时（从零到能够使用）
- **任务完成时间**：0-1过程 < 2小时，1-N复用 < 15分钟
- **用户满意度**：> 4.0/5.0
- **用户留存率**：> 70%（30天留存）

### 9.5 后续规划（阶段2）

#### 9.5.1 阶段2目标

**核心目标**：
- 引入跨领域专家协作机制
- 生成对外概览方案
- 优化子Agent的智能程度
- 引入持续学习机制

**新增功能**：
- 专业领域任务识别
- 专家邀请与协作
- 群聊功能
- 对外概览方案生成
- 子Agent持续优化
- 使用反馈收集与分析

#### 9.5.2 阶段2时间规划

- **时间**：阶段1完成后3个月
- **开发周期**：8周
- **交付物**：增强版通用Agent、对外方案生成能力、协作平台

---

## 十、附录

### 10.1 术语表

| 术语 | 英文 | 定义 |
|------|------|------|
| **通用概览方案生成Agent** | Universal Overview Solution Generation Agent | 服务于0-1过程的AI Agent，具备任务规划、知识挖掘、智能引导、方案生成等核心能力 |
| **子Agent** | Sub-Agent | 基于特定本体数据生成的AI原生应用，服务于1-N复用过程 |
| **本体数据底座** | Ontology Data Base | 存储三类本体数据的图数据库，是整个系统的知识中枢 |
| **思考本体数据** | Method Ontology | 描述"如何做"的方法论，包括思考方式、方法、约束 |
| **内容本体数据** | Content Ontology | 描述"做什么"的内容要求，包括应该产出什么、有什么要求 |
| **应用本体数据** | Application Ontology | 描述"如何呈现"的交互要求，包括界面、卡片、调用逻辑 |
| **0-1过程** | Zero-to-One Process | 业务专家在AI辅助下，完成首次概览方案生成的过程 |
| **1-1'过程** | One-to-One-Prime Process | 将0-1过程中的实例数据抽象为可复用的本体数据的过程 |
| **2-N过程** | Two-to-N Process | 将本体数据转换为智能子Agent，一线业务人员可以直接使用的过程 |
| **固定任务** | Fixed Task | 每个需求都必须执行的任务，例如需求分析、方向识别 |
| **动态任务** | Dynamic Task | 根据需求特征动态生成的任务，例如数据补充、案例验证 |
| **知识挖掘** | Knowledge Mining | 通过结果式提问，挖掘业务专家头脑中的隐性知识 |
| **智能引导** | Intelligent Guidance | 在任务执行过程中，提供4个方向的智能引导 |
| **结果式提问** | Result-Oriented Questioning | 带着上下文和目的的提问，告诉用户"为什么需要这个信息"、"用来做什么" |
| **客创方向** | Customer Creation Direction | 解决客户问题的战略路径选择 |
| **概览方案** | Overview Solution | 包含1-3个客创方向的初步方案，用于客户决策 |
| **对内概览方案** | Internal Overview Solution | 面向业务专家的概览方案，包含详细的辅助信息 |
| **对外概览方案** | External Overview Solution | 面向客户的概览方案，简洁、专业、有说服力 |

### 10.2 参考文档

- [BMAD方法论](https://github.com/bmad-code-org/BMAD-METHOD)
- [Palantir Ontology官方文档](https://palantir.com/docs/foundry/ontology/overview/)
- [Claude Agent SDK文档](https://docs.anthropic.com/)
- [供智产品-用户旅程-巨赢纺织案例](./供智产品-用户旅程-巨赢纺织案例.md)
- [概览方案生成-三类本体数据设计](./概览方案生成-三类本体数据设计.md)

### 10.3 变更记录

| 版本 | 日期 | 变更内容 | 变更人 |
|------|------|---------|--------|
| v1.0 | 2026-02-22 | 初始版本，完成产品概述和核心概念 | Manus AI |
| v2.0 | 2026-02-22 | 完成完整PRD，包括用户旅程、功能设计、数据模型、界面设计、实施计划 | Manus AI |

---

**文档结束**
